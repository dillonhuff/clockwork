#include "example_progs.h"

prog demosaic_complex() {
  prog prg;
  prg.compute_unit_file = "demosaic_complex_compute.h";
  prg.name = "demosaic_complex";

// Stencil<uint16_t, 64, 64> &hw_input_stencil = arg_0;
  prg.add_input("hw_input_stencil");
  prg.buffer_port_widths["hw_input_stencil"] = 16;
// Stencil<uint8_t, 3, 62, 62> &hw_output_stencil = arg_1;
  prg.add_output("hw_output_stencil");
  prg.buffer_port_widths["hw_output_stencil"] = 16;

////producing hw_input_global_wrapper.stencil
  auto hw_input_global_wrapper_s0_y = prg.add_loop("hw_input_global_wrapper_s0_y", -1, 63);
  auto hw_input_global_wrapper_s0_x = hw_input_global_wrapper_s0_y->add_loop("hw_input_global_wrapper_s0_x", -1, 63);

//store is: hw_input_global_wrapper.stencil(hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y) = hw_input.stencil(hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y)
  auto hcompute_hw_input_global_wrapper_stencil = hw_input_global_wrapper_s0_x->add_op("op_hcompute_hw_input_global_wrapper_stencil");
  hcompute_hw_input_global_wrapper_stencil->add_function("hcompute_hw_input_global_wrapper_stencil");
  hcompute_hw_input_global_wrapper_stencil->add_load("hw_input_stencil", "hw_input_global_wrapper_s0_y", "hw_input_global_wrapper_s0_x");
  prg.buffer_port_widths["hw_input_global_wrapper_stencil"] = 16;
  hcompute_hw_input_global_wrapper_stencil->add_store("hw_input_global_wrapper_stencil", "hw_input_global_wrapper_s0_y", "hw_input_global_wrapper_s0_x");

//consuming hw_input_global_wrapper.stencil
////producing demosaicked$1.stencil
  auto demosaicked_1_s0_y = prg.add_loop("demosaicked_1_s0_y", 0, 62);
  auto demosaicked_1_s0_x = demosaicked_1_s0_y->add_loop("demosaicked_1_s0_x", 0, 62);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y, 0) = select(((demosaicked_1_s0_y % 2) == 0), select(((demosaicked_1_s0_x % 2) == 0), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)), select(((demosaicked_1_s0_x % 2) == 0), select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y))), (((((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), (((((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))))
  auto hcompute_demosaicked_1_stencil = demosaicked_1_s0_x->add_op("op_hcompute_demosaicked_1_stencil");
  hcompute_demosaicked_1_stencil->add_function("hcompute_demosaicked_1_stencil");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y", "(demosaicked_1_s0_x + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + 1)", "(demosaicked_1_s0_x + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y", "(demosaicked_1_s0_x + -1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + 1)", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + -1)", "(demosaicked_1_s0_x + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + -1)", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + -1)", "(demosaicked_1_s0_x + -1)");
  prg.buffer_port_widths["demosaicked_1_stencil"] = 16;
  hcompute_demosaicked_1_stencil->add_store("demosaicked_1_stencil", "0", "demosaicked_1_s0_y", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->compute_unit_needs_index_variable("demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->compute_unit_needs_index_variable("demosaicked_1_s0_y");
  auto demosaicked_1_s0_y_1 = prg.add_loop("demosaicked_1_s0_y_1", 0, 62);
  auto demosaicked_1_s0_x_1 = demosaicked_1_s0_y_1->add_loop("demosaicked_1_s0_x_1", 0, 62);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1, 1) = select(((demosaicked_1_s0_y_1 % 2) == 0), select(((demosaicked_1_s0_x_1 % 2) == 0), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + -1), demosaicked_1_s0_y_1)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + -1), demosaicked_1_s0_y_1) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2))), select(((demosaicked_1_s0_x_1 % 2) == 0), select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + 1), demosaicked_1_s0_y_1)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + 1), demosaicked_1_s0_y_1) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)))
  auto hcompute_demosaicked_1_stencil_1 = demosaicked_1_s0_x_1->add_op("op_hcompute_demosaicked_1_stencil_1");
  hcompute_demosaicked_1_stencil_1->add_function("hcompute_demosaicked_1_stencil_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_1", "(demosaicked_1_s0_x_1 + -1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_1 + 1)", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_1", "(demosaicked_1_s0_x_1 + 1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_1 + -1)", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_1", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->add_store("demosaicked_1_stencil", "1", "demosaicked_1_s0_y_1", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->compute_unit_needs_index_variable("demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->compute_unit_needs_index_variable("demosaicked_1_s0_y_1");
  auto demosaicked_1_s0_y_2 = prg.add_loop("demosaicked_1_s0_y_2", 0, 62);
  auto demosaicked_1_s0_x_2 = demosaicked_1_s0_y_2->add_loop("demosaicked_1_s0_x_2", 0, 62);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2, 2) = select(((demosaicked_1_s0_y_2 % 2) == 0), select(((demosaicked_1_s0_x_2 % 2) == 0), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2))), (((((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), (((((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)))), select(((demosaicked_1_s0_x_2 % 2) == 0), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))))
  auto hcompute_demosaicked_1_stencil_2 = demosaicked_1_s0_x_2->add_op("op_hcompute_demosaicked_1_stencil_2");
  hcompute_demosaicked_1_stencil_2->add_function("hcompute_demosaicked_1_stencil_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_2", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + 1)", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + 1)", "(demosaicked_1_s0_x_2 + 1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_2", "(demosaicked_1_s0_x_2 + 1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + -1)", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + 1)", "(demosaicked_1_s0_x_2 + -1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_2", "(demosaicked_1_s0_x_2 + -1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + -1)", "(demosaicked_1_s0_x_2 + -1)");
  hcompute_demosaicked_1_stencil_2->add_store("demosaicked_1_stencil", "2", "demosaicked_1_s0_y_2", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->compute_unit_needs_index_variable("demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->compute_unit_needs_index_variable("demosaicked_1_s0_y_2");

//consuming demosaicked$1.stencil
  auto hw_output_s0_y_yi = prg.add_loop("hw_output_s0_y_yi", 0, 62);
  auto hw_output_s0_x_xi = hw_output_s0_y_yi->add_loop("hw_output_s0_x_xi", 0, 62);
  auto hw_output_s0_c = hw_output_s0_x_xi->add_loop("hw_output_s0_c", 0, 3);

//store is: hw_output.stencil(hw_output_s0_c, hw_output_s0_x_xi, hw_output_s0_y_yi) = uint8(demosaicked$1.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, hw_output_s0_c))
  auto hcompute_hw_output_stencil = hw_output_s0_c->add_op("op_hcompute_hw_output_stencil");
  hcompute_hw_output_stencil->add_function("hcompute_hw_output_stencil");
  hcompute_hw_output_stencil->add_load("demosaicked_1_stencil", "hw_output_s0_c", "hw_output_s0_y_yi", "hw_output_s0_x_xi");
  hcompute_hw_output_stencil->add_store("hw_output_stencil", "hw_output_s0_y_yi", "hw_output_s0_x_xi", "hw_output_s0_c");

  return prg;
}

prog demosaic_2x2() {
  prog prg;
  prg.compute_unit_file = "demosaic_2x2_compute.h";
  prg.name = "demosaic_2x2";

// Stencil<uint16_t, 60, 60> &hw_input_stencil = arg_0;
  prg.add_input("hw_input_stencil");
  prg.buffer_port_widths["hw_input_stencil"] = 16;
// Stencil<uint16_t, 56, 56, 3> &hw_output_stencil = arg_1;
  prg.add_output("hw_output_stencil");
  prg.buffer_port_widths["hw_output_stencil"] = 16;

////producing hw_input_global_wrapper.stencil
  auto hw_input_global_wrapper_s0_y_y = prg.add_loop("hw_input_global_wrapper_s0_y_y", 0, 30);
  auto hw_input_global_wrapper_s0_x_x = hw_input_global_wrapper_s0_y_y->add_loop("hw_input_global_wrapper_s0_x_x", 0, 30);

//store is: hw_input_global_wrapper.stencil(((hw_input_global_wrapper_s0_x_x*2) + -2), ((hw_input_global_wrapper_s0_y_y*2) + -2)) = hw_input.stencil(((hw_input_global_wrapper_s0_x_x*2) + -2), ((hw_input_global_wrapper_s0_y_y*2) + -2))
  auto hcompute_hw_input_global_wrapper_stencil = hw_input_global_wrapper_s0_x_x->add_op("op_hcompute_hw_input_global_wrapper_stencil");
  hcompute_hw_input_global_wrapper_stencil->add_function("hcompute_hw_input_global_wrapper_stencil");
  hcompute_hw_input_global_wrapper_stencil->add_load("hw_input_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -2)", "((hw_input_global_wrapper_s0_x_x*2) + -2)");
  prg.buffer_port_widths["hw_input_global_wrapper_stencil"] = 16;
  hcompute_hw_input_global_wrapper_stencil->add_store("hw_input_global_wrapper_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -2)", "((hw_input_global_wrapper_s0_x_x*2) + -2)");

//store is: hw_input_global_wrapper.stencil(((hw_input_global_wrapper_s0_x_x*2) + -1), ((hw_input_global_wrapper_s0_y_y*2) + -2)) = hw_input.stencil(((hw_input_global_wrapper_s0_x_x*2) + -1), ((hw_input_global_wrapper_s0_y_y*2) + -2))
  auto hcompute_hw_input_global_wrapper_stencil_1 = hw_input_global_wrapper_s0_x_x->add_op("op_hcompute_hw_input_global_wrapper_stencil_1");
  hcompute_hw_input_global_wrapper_stencil_1->add_function("hcompute_hw_input_global_wrapper_stencil_1");
  hcompute_hw_input_global_wrapper_stencil_1->add_load("hw_input_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -2)", "((hw_input_global_wrapper_s0_x_x*2) + -1)");
  hcompute_hw_input_global_wrapper_stencil_1->add_store("hw_input_global_wrapper_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -2)", "((hw_input_global_wrapper_s0_x_x*2) + -1)");
  auto hw_input_global_wrapper_s0_x_x_1 = hw_input_global_wrapper_s0_y_y->add_loop("hw_input_global_wrapper_s0_x_x_1", 0, 30);

//store is: hw_input_global_wrapper.stencil(((hw_input_global_wrapper_s0_x_x_1*2) + -2), ((hw_input_global_wrapper_s0_y_y*2) + -1)) = hw_input.stencil(((hw_input_global_wrapper_s0_x_x_1*2) + -2), ((hw_input_global_wrapper_s0_y_y*2) + -1))
  auto hcompute_hw_input_global_wrapper_stencil_2 = hw_input_global_wrapper_s0_x_x_1->add_op("op_hcompute_hw_input_global_wrapper_stencil_2");
  hcompute_hw_input_global_wrapper_stencil_2->add_function("hcompute_hw_input_global_wrapper_stencil_2");
  hcompute_hw_input_global_wrapper_stencil_2->add_load("hw_input_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -1)", "((hw_input_global_wrapper_s0_x_x_1*2) + -2)");
  hcompute_hw_input_global_wrapper_stencil_2->add_store("hw_input_global_wrapper_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -1)", "((hw_input_global_wrapper_s0_x_x_1*2) + -2)");

//store is: hw_input_global_wrapper.stencil(((hw_input_global_wrapper_s0_x_x_1*2) + -1), ((hw_input_global_wrapper_s0_y_y*2) + -1)) = hw_input.stencil(((hw_input_global_wrapper_s0_x_x_1*2) + -1), ((hw_input_global_wrapper_s0_y_y*2) + -1))
  auto hcompute_hw_input_global_wrapper_stencil_3 = hw_input_global_wrapper_s0_x_x_1->add_op("op_hcompute_hw_input_global_wrapper_stencil_3");
  hcompute_hw_input_global_wrapper_stencil_3->add_function("hcompute_hw_input_global_wrapper_stencil_3");
  hcompute_hw_input_global_wrapper_stencil_3->add_load("hw_input_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -1)", "((hw_input_global_wrapper_s0_x_x_1*2) + -1)");
  hcompute_hw_input_global_wrapper_stencil_3->add_store("hw_input_global_wrapper_stencil", "((hw_input_global_wrapper_s0_y_y*2) + -1)", "((hw_input_global_wrapper_s0_x_x_1*2) + -1)");

//consuming hw_input_global_wrapper.stencil
////producing demosaicked$1.stencil
  auto demosaicked_1_s0_y = prg.add_loop("demosaicked_1_s0_y", 0, 56);
  auto demosaicked_1_s0_x = demosaicked_1_s0_y->add_loop("demosaicked_1_s0_x", 0, 56);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y, 0) = select(((demosaicked_1_s0_y % 2) == 0), select(((demosaicked_1_s0_x % 2) == 0), ((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)) + (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), ((demosaicked_1_s0_y/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)))), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + -1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -2), ((demosaicked_1_s0_y/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -2), ((demosaicked_1_s0_y/2)*2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + -1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), ((demosaicked_1_s0_y/2)*2))), select(((demosaicked_1_s0_x % 2) == 0), select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 2)))), (((((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -2), (((demosaicked_1_s0_y/2)*2) + 2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 3)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -2), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 3)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)))), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + -1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), (((((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -2), ((demosaicked_1_s0_y/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -2), ((demosaicked_1_s0_y/2)*2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + -1), (((demosaicked_1_s0_y/2)*2) + -1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), (((demosaicked_1_s0_y/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 3)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 3)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))), ((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)) + (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), ((demosaicked_1_s0_y/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)))), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), ((demosaicked_1_s0_y/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), ((demosaicked_1_s0_y/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + -1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), (((demosaicked_1_s0_y/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 3)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 2), (((demosaicked_1_s0_y/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x/2)*2), (((demosaicked_1_s0_y/2)*2) + 2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 3)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x/2)*2) + 1), (((demosaicked_1_s0_y/2)*2) + 1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))))
  auto hcompute_demosaicked_1_stencil = demosaicked_1_s0_x->add_op("op_hcompute_demosaicked_1_stencil");
  hcompute_demosaicked_1_stencil->add_function("hcompute_demosaicked_1_stencil");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y/2))*2)", "(floor((demosaicked_1_s0_x/2))*2)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 2)", "((floor((demosaicked_1_s0_x/2))*2) + -1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 2)", "((floor((demosaicked_1_s0_x/2))*2) + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 2)", "(floor((demosaicked_1_s0_x/2))*2)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 2)", "((floor((demosaicked_1_s0_x/2))*2) + -2)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 3)", "((floor((demosaicked_1_s0_x/2))*2) + -1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 2)", "((floor((demosaicked_1_s0_x/2))*2) + 2)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 3)", "((floor((demosaicked_1_s0_x/2))*2) + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y/2))*2)", "((floor((demosaicked_1_s0_x/2))*2) + -1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y/2))*2)", "((floor((demosaicked_1_s0_x/2))*2) + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y/2))*2)", "((floor((demosaicked_1_s0_x/2))*2) + 2)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + -1)", "((floor((demosaicked_1_s0_x/2))*2) + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 1)", "((floor((demosaicked_1_s0_x/2))*2) + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y/2))*2)", "((floor((demosaicked_1_s0_x/2))*2) + -2)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + -1)", "((floor((demosaicked_1_s0_x/2))*2) + -1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y/2))*2) + 1)", "((floor((demosaicked_1_s0_x/2))*2) + -1)");
  prg.buffer_port_widths["demosaicked_1_stencil"] = 16;
  hcompute_demosaicked_1_stencil->add_store("demosaicked_1_stencil", "0", "demosaicked_1_s0_y", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->compute_unit_needs_index_variable("demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->compute_unit_needs_index_variable("demosaicked_1_s0_y");
  auto demosaicked_1_s0_y_1 = prg.add_loop("demosaicked_1_s0_y_1", 0, 56);
  auto demosaicked_1_s0_x_1 = demosaicked_1_s0_y_1->add_loop("demosaicked_1_s0_x_1", 0, 56);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1, 1) = select(((demosaicked_1_s0_y_1 % 2) == 0), select(((demosaicked_1_s0_x_1 % 2) == 0), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), ((demosaicked_1_s0_y_1/2)*2)), select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 2), ((demosaicked_1_s0_y_1/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), ((demosaicked_1_s0_y_1/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + 1)))), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), ((demosaicked_1_s0_y_1/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 2), ((demosaicked_1_s0_y_1/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + -1))) + (uint16)1)/(uint16)2))), select(((demosaicked_1_s0_x_1 % 2) == 0), select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + -1), (((demosaicked_1_s0_y_1/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), (((demosaicked_1_s0_y_1/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), ((demosaicked_1_s0_y_1/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + -1), (((demosaicked_1_s0_y_1/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), (((demosaicked_1_s0_y_1/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_1/2)*2), ((demosaicked_1_s0_y_1/2)*2))) + (uint16)1)/(uint16)2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_1/2)*2) + 1), (((demosaicked_1_s0_y_1/2)*2) + 1))))
  auto hcompute_demosaicked_1_stencil_1 = demosaicked_1_s0_x_1->add_op("op_hcompute_demosaicked_1_stencil_1");
  hcompute_demosaicked_1_stencil_1->add_function("hcompute_demosaicked_1_stencil_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y_1/2))*2)", "(floor((demosaicked_1_s0_x_1/2))*2)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y_1/2))*2)", "((floor((demosaicked_1_s0_x_1/2))*2) + 2)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_1/2))*2) + -1)", "((floor((demosaicked_1_s0_x_1/2))*2) + 1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_1/2))*2) + 1)", "((floor((demosaicked_1_s0_x_1/2))*2) + 1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_1/2))*2) + 1)", "((floor((demosaicked_1_s0_x_1/2))*2) + -1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_1/2))*2) + 2)", "(floor((demosaicked_1_s0_x_1/2))*2)");
  hcompute_demosaicked_1_stencil_1->add_store("demosaicked_1_stencil", "1", "demosaicked_1_s0_y_1", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->compute_unit_needs_index_variable("demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->compute_unit_needs_index_variable("demosaicked_1_s0_y_1");
  auto demosaicked_1_s0_y_2 = prg.add_loop("demosaicked_1_s0_y_2", 0, 56);
  auto demosaicked_1_s0_x_2 = demosaicked_1_s0_y_2->add_loop("demosaicked_1_s0_x_2", 0, 56);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2, 2) = select(((demosaicked_1_s0_y_2 % 2) == 0), select(((demosaicked_1_s0_x_2 % 2) == 0), ((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)) + (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -1)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + -1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), select((absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + -1))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -1)))), (((((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + -1)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)))), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 3), (((demosaicked_1_s0_y_2/2)*2) + -1))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + -2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 3), (((demosaicked_1_s0_y_2/2)*2) + -1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + -2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), (((((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)))), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + -1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + -1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + -2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 3), (((demosaicked_1_s0_y_2/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 3), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)))), select(((demosaicked_1_s0_x_2 % 2) == 0), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 1)), ((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)) + (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 2)), hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + -1), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), (((demosaicked_1_s0_y_2/2)*2) + 2)) + hw_input_global_wrapper.stencil(((demosaicked_1_s0_x_2/2)*2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 3), (((demosaicked_1_s0_y_2/2)*2) + 1))) < absd(hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 2)), hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2)))), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 3), (((demosaicked_1_s0_y_2/2)*2) + 1)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 1), (((demosaicked_1_s0_y_2/2)*2) + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), (((demosaicked_1_s0_y_2/2)*2) + 2)) + hw_input_global_wrapper.stencil((((demosaicked_1_s0_x_2/2)*2) + 2), ((demosaicked_1_s0_y_2/2)*2))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))))
  auto hcompute_demosaicked_1_stencil_2 = demosaicked_1_s0_x_2->add_op("op_hcompute_demosaicked_1_stencil_2");
  hcompute_demosaicked_1_stencil_2->add_function("hcompute_demosaicked_1_stencil_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y_2/2))*2)", "(floor((demosaicked_1_s0_x_2/2))*2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -1)", "(floor((demosaicked_1_s0_x_2/2))*2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 1)", "(floor((demosaicked_1_s0_x_2/2))*2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 1)", "((floor((demosaicked_1_s0_x_2/2))*2) + -1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 1)", "((floor((demosaicked_1_s0_x_2/2))*2) + 1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 2)", "(floor((demosaicked_1_s0_x_2/2))*2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -1)", "((floor((demosaicked_1_s0_x_2/2))*2) + -1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -1)", "((floor((demosaicked_1_s0_x_2/2))*2) + 1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -2)", "(floor((demosaicked_1_s0_x_2/2))*2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -1)", "((floor((demosaicked_1_s0_x_2/2))*2) + 2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 1)", "((floor((demosaicked_1_s0_x_2/2))*2) + 2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(floor((demosaicked_1_s0_y_2/2))*2)", "((floor((demosaicked_1_s0_x_2/2))*2) + 2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -1)", "((floor((demosaicked_1_s0_x_2/2))*2) + 3)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + -2)", "((floor((demosaicked_1_s0_x_2/2))*2) + 2)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 1)", "((floor((demosaicked_1_s0_x_2/2))*2) + 3)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "((floor((demosaicked_1_s0_y_2/2))*2) + 2)", "((floor((demosaicked_1_s0_x_2/2))*2) + 2)");
  hcompute_demosaicked_1_stencil_2->add_store("demosaicked_1_stencil", "2", "demosaicked_1_s0_y_2", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->compute_unit_needs_index_variable("demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->compute_unit_needs_index_variable("demosaicked_1_s0_y_2");

//consuming demosaicked$1.stencil
  auto hw_output_s0_y_yi = prg.add_loop("hw_output_s0_y_yi", 0, 56);
  auto hw_output_s0_x_xi = hw_output_s0_y_yi->add_loop("hw_output_s0_x_xi", 0, 56);

//store is: hw_output.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 0) = demosaicked$1.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 0)
  auto hcompute_hw_output_stencil = hw_output_s0_x_xi->add_op("op_hcompute_hw_output_stencil");
  hcompute_hw_output_stencil->add_function("hcompute_hw_output_stencil");
  hcompute_hw_output_stencil->add_load("demosaicked_1_stencil", "0", "hw_output_s0_y_yi", "hw_output_s0_x_xi");
  hcompute_hw_output_stencil->add_store("hw_output_stencil", "0", "hw_output_s0_y_yi", "hw_output_s0_x_xi");
  auto hw_output_s0_y_yi_1 = prg.add_loop("hw_output_s0_y_yi_1", 0, 56);
  auto hw_output_s0_x_xi_1 = hw_output_s0_y_yi_1->add_loop("hw_output_s0_x_xi_1", 0, 56);

//store is: hw_output.stencil(hw_output_s0_x_xi_1, hw_output_s0_y_yi_1, 1) = demosaicked$1.stencil(hw_output_s0_x_xi_1, hw_output_s0_y_yi_1, 1)
  auto hcompute_hw_output_stencil_1 = hw_output_s0_x_xi_1->add_op("op_hcompute_hw_output_stencil_1");
  hcompute_hw_output_stencil_1->add_function("hcompute_hw_output_stencil_1");
  hcompute_hw_output_stencil_1->add_load("demosaicked_1_stencil", "1", "hw_output_s0_y_yi_1", "hw_output_s0_x_xi_1");
  hcompute_hw_output_stencil_1->add_store("hw_output_stencil", "1", "hw_output_s0_y_yi_1", "hw_output_s0_x_xi_1");
  auto hw_output_s0_y_yi_2 = prg.add_loop("hw_output_s0_y_yi_2", 0, 56);
  auto hw_output_s0_x_xi_2 = hw_output_s0_y_yi_2->add_loop("hw_output_s0_x_xi_2", 0, 56);

//store is: hw_output.stencil(hw_output_s0_x_xi_2, hw_output_s0_y_yi_2, 2) = demosaicked$1.stencil(hw_output_s0_x_xi_2, hw_output_s0_y_yi_2, 2)
  auto hcompute_hw_output_stencil_2 = hw_output_s0_x_xi_2->add_op("op_hcompute_hw_output_stencil_2");
  hcompute_hw_output_stencil_2->add_function("hcompute_hw_output_stencil_2");
  hcompute_hw_output_stencil_2->add_load("demosaicked_1_stencil", "2", "hw_output_s0_y_yi_2", "hw_output_s0_x_xi_2");
  hcompute_hw_output_stencil_2->add_store("hw_output_stencil", "2", "hw_output_s0_y_yi_2", "hw_output_s0_x_xi_2");

  return prg;
}

prog demosaic_unrolled() {
  prog prg;
  prg.compute_unit_file = "demosaic_unrolled_compute.h";
  prg.name = "demosaic_unrolled";

// Stencil<uint16_t, 64, 64> &hw_input_stencil = arg_0;
  prg.add_input("hw_input_stencil");
  prg.buffer_port_widths["hw_input_stencil"] = 16;
// Stencil<uint16_t, 62, 62, 3> &hw_output_stencil = arg_1;
  prg.add_output("hw_output_stencil");
  prg.buffer_port_widths["hw_output_stencil"] = 16;

////producing hw_input_global_wrapper.stencil
  auto hw_input_global_wrapper_s0_y = prg.add_loop("hw_input_global_wrapper_s0_y", -1, 63);
  auto hw_input_global_wrapper_s0_x = hw_input_global_wrapper_s0_y->add_loop("hw_input_global_wrapper_s0_x", -1, 63);

//store is: hw_input_global_wrapper.stencil(hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y) = hw_input.stencil(hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y)
  auto hcompute_hw_input_global_wrapper_stencil = hw_input_global_wrapper_s0_x->add_op("op_hcompute_hw_input_global_wrapper_stencil");
  hcompute_hw_input_global_wrapper_stencil->add_function("hcompute_hw_input_global_wrapper_stencil");
  hcompute_hw_input_global_wrapper_stencil->add_load("hw_input_stencil", "hw_input_global_wrapper_s0_y", "hw_input_global_wrapper_s0_x");
  prg.buffer_port_widths["hw_input_global_wrapper_stencil"] = 16;
  hcompute_hw_input_global_wrapper_stencil->add_store("hw_input_global_wrapper_stencil", "hw_input_global_wrapper_s0_y", "hw_input_global_wrapper_s0_x");

//consuming hw_input_global_wrapper.stencil
////producing demosaicked$1.stencil
  auto demosaicked_1_s0_y = prg.add_loop("demosaicked_1_s0_y", 0, 62);
  auto demosaicked_1_s0_x = demosaicked_1_s0_y->add_loop("demosaicked_1_s0_x", 0, 62);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y, 0) = select(((demosaicked_1_s0_y % 2) == 0), select(((demosaicked_1_s0_x % 2) == 0), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)), select(((demosaicked_1_s0_x % 2) == 0), select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y))), (((((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), (((((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x + 1), (demosaicked_1_s0_y + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x + -1), (demosaicked_1_s0_y + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x, demosaicked_1_s0_y) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x, (demosaicked_1_s0_y + -1))) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))))
  auto hcompute_demosaicked_1_stencil = demosaicked_1_s0_x->add_op("op_hcompute_demosaicked_1_stencil");
  hcompute_demosaicked_1_stencil->add_function("hcompute_demosaicked_1_stencil");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y", "(demosaicked_1_s0_x + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + 1)", "(demosaicked_1_s0_x + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y", "(demosaicked_1_s0_x + -1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + 1)", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + -1)", "(demosaicked_1_s0_x + 1)");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + -1)", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y + -1)", "(demosaicked_1_s0_x + -1)");
  prg.buffer_port_widths["demosaicked_1_stencil"] = 16;
  hcompute_demosaicked_1_stencil->add_store("demosaicked_1_stencil", "0", "demosaicked_1_s0_y", "demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->compute_unit_needs_index_variable("demosaicked_1_s0_x");
  hcompute_demosaicked_1_stencil->compute_unit_needs_index_variable("demosaicked_1_s0_y");
  auto demosaicked_1_s0_y_1 = prg.add_loop("demosaicked_1_s0_y_1", 0, 62);
  auto demosaicked_1_s0_x_1 = demosaicked_1_s0_y_1->add_loop("demosaicked_1_s0_x_1", 0, 62);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1, 1) = select(((demosaicked_1_s0_y_1 % 2) == 0), select(((demosaicked_1_s0_x_1 % 2) == 0), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + -1), demosaicked_1_s0_y_1)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + 1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + -1), demosaicked_1_s0_y_1) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2))), select(((demosaicked_1_s0_x_1 % 2) == 0), select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + 1), demosaicked_1_s0_y_1)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_1 + 1), demosaicked_1_s0_y_1) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, (demosaicked_1_s0_y_1 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)) + (uint16)1)/(uint16)2)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_1, demosaicked_1_s0_y_1)))
  auto hcompute_demosaicked_1_stencil_1 = demosaicked_1_s0_x_1->add_op("op_hcompute_demosaicked_1_stencil_1");
  hcompute_demosaicked_1_stencil_1->add_function("hcompute_demosaicked_1_stencil_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_1", "(demosaicked_1_s0_x_1 + -1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_1 + 1)", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_1", "(demosaicked_1_s0_x_1 + 1)");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_1 + -1)", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_1", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->add_store("demosaicked_1_stencil", "1", "demosaicked_1_s0_y_1", "demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->compute_unit_needs_index_variable("demosaicked_1_s0_x_1");
  hcompute_demosaicked_1_stencil_1->compute_unit_needs_index_variable("demosaicked_1_s0_y_1");
  auto demosaicked_1_s0_y_2 = prg.add_loop("demosaicked_1_s0_y_2", 0, 62);
  auto demosaicked_1_s0_x_2 = demosaicked_1_s0_y_2->add_loop("demosaicked_1_s0_x_2", 0, 62);

//store is: demosaicked$1.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2, 2) = select(((demosaicked_1_s0_y_2 % 2) == 0), select(((demosaicked_1_s0_x_2 % 2) == 0), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2))), (((((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)), (((((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2) + select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2))) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1))) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1)), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), (demosaicked_1_s0_y_2 + 1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + 1))) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2)))), select(((demosaicked_1_s0_x_2 % 2) == 0), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), ((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2)) - (((select((absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + 1), demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2)) + select((absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2)) < absd(hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2), hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)))), (((hw_input_global_wrapper.stencil(demosaicked_1_s0_x_2, demosaicked_1_s0_y_2) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2), (((hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), (demosaicked_1_s0_y_2 + -1)) + hw_input_global_wrapper.stencil((demosaicked_1_s0_x_2 + -1), demosaicked_1_s0_y_2)) + (uint16)1)/(uint16)2))) + (uint16)1)/(uint16)2))))
  auto hcompute_demosaicked_1_stencil_2 = demosaicked_1_s0_x_2->add_op("op_hcompute_demosaicked_1_stencil_2");
  hcompute_demosaicked_1_stencil_2->add_function("hcompute_demosaicked_1_stencil_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_2", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + 1)", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + 1)", "(demosaicked_1_s0_x_2 + 1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_2", "(demosaicked_1_s0_x_2 + 1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + -1)", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + 1)", "(demosaicked_1_s0_x_2 + -1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "demosaicked_1_s0_y_2", "(demosaicked_1_s0_x_2 + -1)");
  hcompute_demosaicked_1_stencil_2->add_load("hw_input_global_wrapper_stencil", "(demosaicked_1_s0_y_2 + -1)", "(demosaicked_1_s0_x_2 + -1)");
  hcompute_demosaicked_1_stencil_2->add_store("demosaicked_1_stencil", "2", "demosaicked_1_s0_y_2", "demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->compute_unit_needs_index_variable("demosaicked_1_s0_x_2");
  hcompute_demosaicked_1_stencil_2->compute_unit_needs_index_variable("demosaicked_1_s0_y_2");

//consuming demosaicked$1.stencil
  auto hw_output_s0_y_yi = prg.add_loop("hw_output_s0_y_yi", 0, 62);
  auto hw_output_s0_x_xi = hw_output_s0_y_yi->add_loop("hw_output_s0_x_xi", 0, 62);

//store is: hw_output.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 0) = demosaicked$1.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 0)
  auto hcompute_hw_output_stencil = hw_output_s0_x_xi->add_op("op_hcompute_hw_output_stencil");
  hcompute_hw_output_stencil->add_function("hcompute_hw_output_stencil");
  hcompute_hw_output_stencil->add_load("demosaicked_1_stencil", "0", "hw_output_s0_y_yi", "hw_output_s0_x_xi");
  hcompute_hw_output_stencil->add_store("hw_output_stencil", "0", "hw_output_s0_y_yi", "hw_output_s0_x_xi");
  auto hw_output_s0_y_yi_1 = prg.add_loop("hw_output_s0_y_yi_1", 0, 62);
  auto hw_output_s0_x_xi_1 = hw_output_s0_y_yi_1->add_loop("hw_output_s0_x_xi_1", 0, 62);

//store is: hw_output.stencil(hw_output_s0_x_xi_1, hw_output_s0_y_yi_1, 1) = demosaicked$1.stencil(hw_output_s0_x_xi_1, hw_output_s0_y_yi_1, 1)
  auto hcompute_hw_output_stencil_1 = hw_output_s0_x_xi_1->add_op("op_hcompute_hw_output_stencil_1");
  hcompute_hw_output_stencil_1->add_function("hcompute_hw_output_stencil_1");
  hcompute_hw_output_stencil_1->add_load("demosaicked_1_stencil", "1", "hw_output_s0_y_yi_1", "hw_output_s0_x_xi_1");
  hcompute_hw_output_stencil_1->add_store("hw_output_stencil", "1", "hw_output_s0_y_yi_1", "hw_output_s0_x_xi_1");
  auto hw_output_s0_y_yi_2 = prg.add_loop("hw_output_s0_y_yi_2", 0, 62);
  auto hw_output_s0_x_xi_2 = hw_output_s0_y_yi_2->add_loop("hw_output_s0_x_xi_2", 0, 62);

//store is: hw_output.stencil(hw_output_s0_x_xi_2, hw_output_s0_y_yi_2, 2) = demosaicked$1.stencil(hw_output_s0_x_xi_2, hw_output_s0_y_yi_2, 2)
  auto hcompute_hw_output_stencil_2 = hw_output_s0_x_xi_2->add_op("op_hcompute_hw_output_stencil_2");
  hcompute_hw_output_stencil_2->add_function("hcompute_hw_output_stencil_2");
  hcompute_hw_output_stencil_2->add_load("demosaicked_1_stencil", "2", "hw_output_s0_y_yi_2", "hw_output_s0_x_xi_2");
  hcompute_hw_output_stencil_2->add_store("hw_output_stencil", "2", "hw_output_s0_y_yi_2", "hw_output_s0_x_xi_2");

  return prg;
}


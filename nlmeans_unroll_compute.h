#pragma once
#include "hw_classes.h"
#include "clockwork_standard_compute_units.h"


//store is: hw_input_global_wrapper.stencil(0, (hw_input_global_wrapper_s0_x + 6), (hw_input_global_wrapper_s0_y + 6)) = hw_input.stencil(0, hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y)
hw_uint<16> hcompute_hw_input_global_wrapper_stencil(hw_uint<16>& hw_input_stencil) {
  bfloat16_t _hw_input_stencil_1 = bfloat16_t::make_from_bits(hw_input_stencil.extract<0, 15>());

  return _hw_input_stencil_1;
}

//store is: hw_input_global_wrapper.stencil(1, (hw_input_global_wrapper_s0_x + 6), (hw_input_global_wrapper_s0_y + 6)) = hw_input.stencil(1, hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y)
hw_uint<16> hcompute_hw_input_global_wrapper_stencil_1(hw_uint<16>& hw_input_stencil) {
  bfloat16_t _hw_input_stencil_2 = bfloat16_t::make_from_bits(hw_input_stencil.extract<0, 15>());

  return _hw_input_stencil_2;
}

//store is: hw_input_global_wrapper.stencil(2, (hw_input_global_wrapper_s0_x + 6), (hw_input_global_wrapper_s0_y + 6)) = hw_input.stencil(2, hw_input_global_wrapper_s0_x, hw_input_global_wrapper_s0_y)
hw_uint<16> hcompute_hw_input_global_wrapper_stencil_2(hw_uint<16>& hw_input_stencil) {
  bfloat16_t _hw_input_stencil_3 = bfloat16_t::make_from_bits(hw_input_stencil.extract<0, 15>());

  return _hw_input_stencil_3;
}

//store is: d.stencil((d_s0_x + 3), (d_s0_y + 3), (d_s0_dx + 3), (d_s0_dy + 3)) = 0.000000h
hw_uint<16> hcompute_d_stencil() {
  bfloat16_t _889 = bfloat_from_bits(0 /* 0 */);
  return _889;
}

//store is: d.stencil((d_s1_x + 3), (d_s1_y + 3), (d_s1_dx + 3), (d_s1_dy + 3)) = (((hw_input_global_wrapper.stencil(2, (d_s1_x + 6), (d_s1_y + 6)) - hw_input_global_wrapper.stencil(2, ((d_s1_dx + d_s1_x) + 6), ((d_s1_dy + d_s1_y) + 6)))*(hw_input_global_wrapper.stencil(2, (d_s1_x + 6), (d_s1_y + 6)) - hw_input_global_wrapper.stencil(2, ((d_s1_dx + d_s1_x) + 6), ((d_s1_dy + d_s1_y) + 6)))) + (((hw_input_global_wrapper.stencil(1, (d_s1_x + 6), (d_s1_y + 6)) - hw_input_global_wrapper.stencil(1, ((d_s1_dx + d_s1_x) + 6), ((d_s1_dy + d_s1_y) + 6)))*(hw_input_global_wrapper.stencil(1, (d_s1_x + 6), (d_s1_y + 6)) - hw_input_global_wrapper.stencil(1, ((d_s1_dx + d_s1_x) + 6), ((d_s1_dy + d_s1_y) + 6)))) + (d.stencil((d_s1_x + 3), (d_s1_y + 3), (d_s1_dx + 3), (d_s1_dy + 3)) + ((hw_input_global_wrapper.stencil(0, (d_s1_x + 6), (d_s1_y + 6)) - hw_input_global_wrapper.stencil(0, ((d_s1_dx + d_s1_x) + 6), ((d_s1_dy + d_s1_y) + 6)))*(hw_input_global_wrapper.stencil(0, (d_s1_x + 6), (d_s1_y + 6)) - hw_input_global_wrapper.stencil(0, ((d_s1_dx + d_s1_x) + 6), ((d_s1_dy + d_s1_y) + 6)))))))
hw_uint<16> hcompute_d_stencil_1(hw_uint<16>& d_stencil, hw_uint<96>& hw_input_global_wrapper_stencil) {
  bfloat16_t _d_stencil_1 = bfloat16_t::make_from_bits(d_stencil.extract<0, 15>());

  bfloat16_t _hw_input_global_wrapper_stencil_1 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<0, 15>());
  bfloat16_t _hw_input_global_wrapper_stencil_2 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<16, 31>());
  bfloat16_t _hw_input_global_wrapper_stencil_3 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<32, 47>());
  bfloat16_t _hw_input_global_wrapper_stencil_4 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<48, 63>());
  bfloat16_t _hw_input_global_wrapper_stencil_5 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<64, 79>());
  bfloat16_t _hw_input_global_wrapper_stencil_6 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<80, 95>());

  bfloat16_t _896 = _hw_input_global_wrapper_stencil_1 - _hw_input_global_wrapper_stencil_2;
  bfloat16_t _897 = _896 * _896;
  bfloat16_t _898 = _hw_input_global_wrapper_stencil_3 - _hw_input_global_wrapper_stencil_4;
  bfloat16_t _899 = _898 * _898;
  bfloat16_t _900 = _hw_input_global_wrapper_stencil_5 - _hw_input_global_wrapper_stencil_6;
  bfloat16_t _901 = _900 * _900;
  bfloat16_t _902 = _d_stencil_1 + _901;
  bfloat16_t _903 = _899 + _902;
  bfloat16_t _904 = _897 + _903;
  return _904;
}

//store is: blur_d_y.stencil((blur_d_y_s0_x + 3), blur_d_y_s0_y, (blur_d_y_s0_dx + 3), (blur_d_y_s0_dy + 3)) = 0.000000h
hw_uint<16> hcompute_blur_d_y_stencil() {
  bfloat16_t _940 = bfloat_from_bits(0 /* 0 */);
  return _940;
}

//store is: blur_d_y.stencil((blur_d_y_s1_x + 3), blur_d_y_s1_y, (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) = (d.stencil((blur_d_y_s1_x + 3), (blur_d_y_s1_y + 6), (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + (d.stencil((blur_d_y_s1_x + 3), (blur_d_y_s1_y + 5), (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + (d.stencil((blur_d_y_s1_x + 3), (blur_d_y_s1_y + 4), (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + (d.stencil((blur_d_y_s1_x + 3), (blur_d_y_s1_y + 3), (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + (d.stencil((blur_d_y_s1_x + 3), (blur_d_y_s1_y + 2), (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + (d.stencil((blur_d_y_s1_x + 3), (blur_d_y_s1_y + 1), (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + (blur_d_y.stencil((blur_d_y_s1_x + 3), blur_d_y_s1_y, (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)) + d.stencil((blur_d_y_s1_x + 3), blur_d_y_s1_y, (blur_d_y_s1_dx + 3), (blur_d_y_s1_dy + 3)))))))))
hw_uint<16> hcompute_blur_d_y_stencil_1(hw_uint<16>& blur_d_y_stencil, hw_uint<112>& d_stencil) {
  bfloat16_t _blur_d_y_stencil_1 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<0, 15>());

  bfloat16_t _d_stencil_2 = bfloat16_t::make_from_bits(d_stencil.extract<0, 15>());
  bfloat16_t _d_stencil_3 = bfloat16_t::make_from_bits(d_stencil.extract<16, 31>());
  bfloat16_t _d_stencil_4 = bfloat16_t::make_from_bits(d_stencil.extract<32, 47>());
  bfloat16_t _d_stencil_5 = bfloat16_t::make_from_bits(d_stencil.extract<48, 63>());
  bfloat16_t _d_stencil_6 = bfloat16_t::make_from_bits(d_stencil.extract<64, 79>());
  bfloat16_t _d_stencil_7 = bfloat16_t::make_from_bits(d_stencil.extract<80, 95>());
  bfloat16_t _d_stencil_8 = bfloat16_t::make_from_bits(d_stencil.extract<96, 111>());

  bfloat16_t _946 = _blur_d_y_stencil_1 + _d_stencil_8;
  bfloat16_t _947 = _d_stencil_7 + _946;
  bfloat16_t _948 = _d_stencil_6 + _947;
  bfloat16_t _949 = _d_stencil_5 + _948;
  bfloat16_t _950 = _d_stencil_4 + _949;
  bfloat16_t _951 = _d_stencil_3 + _950;
  bfloat16_t _952 = _d_stencil_2 + _951;
  return _952;
}

//store is: blur_d.stencil(blur_d_s0_x, blur_d_s0_y, (blur_d_s0_dx + 3), (blur_d_s0_dy + 3)) = 0.000000h
hw_uint<16> hcompute_blur_d_stencil() {
  bfloat16_t _984 = bfloat_from_bits(0 /* 0 */);
  return _984;
}

//store is: blur_d.stencil(blur_d_s1_x, blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) = (blur_d_y.stencil((blur_d_s1_x + 6), blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + (blur_d_y.stencil((blur_d_s1_x + 5), blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + (blur_d_y.stencil((blur_d_s1_x + 4), blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + (blur_d_y.stencil((blur_d_s1_x + 3), blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + (blur_d_y.stencil((blur_d_s1_x + 2), blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + (blur_d_y.stencil((blur_d_s1_x + 1), blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + (blur_d.stencil(blur_d_s1_x, blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)) + blur_d_y.stencil(blur_d_s1_x, blur_d_s1_y, (blur_d_s1_dx + 3), (blur_d_s1_dy + 3)))))))))
hw_uint<16> hcompute_blur_d_stencil_1(hw_uint<16>& blur_d_stencil, hw_uint<112>& blur_d_y_stencil) {
  bfloat16_t _blur_d_stencil_1 = bfloat16_t::make_from_bits(blur_d_stencil.extract<0, 15>());

  bfloat16_t _blur_d_y_stencil_2 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<0, 15>());
  bfloat16_t _blur_d_y_stencil_3 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<16, 31>());
  bfloat16_t _blur_d_y_stencil_4 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<32, 47>());
  bfloat16_t _blur_d_y_stencil_5 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<48, 63>());
  bfloat16_t _blur_d_y_stencil_6 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<64, 79>());
  bfloat16_t _blur_d_y_stencil_7 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<80, 95>());
  bfloat16_t _blur_d_y_stencil_8 = bfloat16_t::make_from_bits(blur_d_y_stencil.extract<96, 111>());

  bfloat16_t _989 = _blur_d_stencil_1 + _blur_d_y_stencil_8;
  bfloat16_t _990 = _blur_d_y_stencil_7 + _989;
  bfloat16_t _991 = _blur_d_y_stencil_6 + _990;
  bfloat16_t _992 = _blur_d_y_stencil_5 + _991;
  bfloat16_t _993 = _blur_d_y_stencil_4 + _992;
  bfloat16_t _994 = _blur_d_y_stencil_3 + _993;
  bfloat16_t _995 = _blur_d_y_stencil_2 + _994;
  return _995;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s0_x, non_local_means_sum_s0_y, 0) = 0.000000h
hw_uint<16> hcompute_non_local_means_sum_stencil() {
  bfloat16_t _1026 = bfloat_from_bits(0 /* 0 */);
  return _1026;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s0_x, non_local_means_sum_s0_y, 1) = 0.000000h
hw_uint<16> hcompute_non_local_means_sum_stencil_1() {
  bfloat16_t _1029 = bfloat_from_bits(0 /* 0 */);
  return _1029;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s0_x, non_local_means_sum_s0_y, 2) = 0.000000h
hw_uint<16> hcompute_non_local_means_sum_stencil_2() {
  bfloat16_t _1032 = bfloat_from_bits(0 /* 0 */);
  return _1032;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s0_x, non_local_means_sum_s0_y, 3) = 0.000000h
hw_uint<16> hcompute_non_local_means_sum_stencil_3() {
  bfloat16_t _1035 = bfloat_from_bits(0 /* 0 */);
  return _1035;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0) = ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 6)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 5)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 4)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 3)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 2)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 1)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 3))) + (non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 0)*-1.414062h))*hw_input_global_wrapper.stencil(0, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 3))))))))))))))))))))))))))))))))))))))))))))))))))))
hw_uint<16> hcompute_non_local_means_sum_stencil_4(hw_uint<784>& blur_d_stencil, hw_uint<784>& hw_input_global_wrapper_stencil, hw_uint<16>& non_local_means_sum_stencil) {
  bfloat16_t _blur_d_stencil_10 = bfloat16_t::make_from_bits(blur_d_stencil.extract<0, 15>());
  bfloat16_t _blur_d_stencil_11 = bfloat16_t::make_from_bits(blur_d_stencil.extract<16, 31>());
  bfloat16_t _blur_d_stencil_12 = bfloat16_t::make_from_bits(blur_d_stencil.extract<32, 47>());
  bfloat16_t _blur_d_stencil_13 = bfloat16_t::make_from_bits(blur_d_stencil.extract<48, 63>());
  bfloat16_t _blur_d_stencil_14 = bfloat16_t::make_from_bits(blur_d_stencil.extract<64, 79>());
  bfloat16_t _blur_d_stencil_15 = bfloat16_t::make_from_bits(blur_d_stencil.extract<80, 95>());
  bfloat16_t _blur_d_stencil_16 = bfloat16_t::make_from_bits(blur_d_stencil.extract<96, 111>());
  bfloat16_t _blur_d_stencil_17 = bfloat16_t::make_from_bits(blur_d_stencil.extract<112, 127>());
  bfloat16_t _blur_d_stencil_18 = bfloat16_t::make_from_bits(blur_d_stencil.extract<128, 143>());
  bfloat16_t _blur_d_stencil_19 = bfloat16_t::make_from_bits(blur_d_stencil.extract<144, 159>());
  bfloat16_t _blur_d_stencil_2 = bfloat16_t::make_from_bits(blur_d_stencil.extract<160, 175>());
  bfloat16_t _blur_d_stencil_20 = bfloat16_t::make_from_bits(blur_d_stencil.extract<176, 191>());
  bfloat16_t _blur_d_stencil_21 = bfloat16_t::make_from_bits(blur_d_stencil.extract<192, 207>());
  bfloat16_t _blur_d_stencil_22 = bfloat16_t::make_from_bits(blur_d_stencil.extract<208, 223>());
  bfloat16_t _blur_d_stencil_23 = bfloat16_t::make_from_bits(blur_d_stencil.extract<224, 239>());
  bfloat16_t _blur_d_stencil_24 = bfloat16_t::make_from_bits(blur_d_stencil.extract<240, 255>());
  bfloat16_t _blur_d_stencil_25 = bfloat16_t::make_from_bits(blur_d_stencil.extract<256, 271>());
  bfloat16_t _blur_d_stencil_26 = bfloat16_t::make_from_bits(blur_d_stencil.extract<272, 287>());
  bfloat16_t _blur_d_stencil_27 = bfloat16_t::make_from_bits(blur_d_stencil.extract<288, 303>());
  bfloat16_t _blur_d_stencil_28 = bfloat16_t::make_from_bits(blur_d_stencil.extract<304, 319>());
  bfloat16_t _blur_d_stencil_29 = bfloat16_t::make_from_bits(blur_d_stencil.extract<320, 335>());
  bfloat16_t _blur_d_stencil_3 = bfloat16_t::make_from_bits(blur_d_stencil.extract<336, 351>());
  bfloat16_t _blur_d_stencil_30 = bfloat16_t::make_from_bits(blur_d_stencil.extract<352, 367>());
  bfloat16_t _blur_d_stencil_31 = bfloat16_t::make_from_bits(blur_d_stencil.extract<368, 383>());
  bfloat16_t _blur_d_stencil_32 = bfloat16_t::make_from_bits(blur_d_stencil.extract<384, 399>());
  bfloat16_t _blur_d_stencil_33 = bfloat16_t::make_from_bits(blur_d_stencil.extract<400, 415>());
  bfloat16_t _blur_d_stencil_34 = bfloat16_t::make_from_bits(blur_d_stencil.extract<416, 431>());
  bfloat16_t _blur_d_stencil_35 = bfloat16_t::make_from_bits(blur_d_stencil.extract<432, 447>());
  bfloat16_t _blur_d_stencil_36 = bfloat16_t::make_from_bits(blur_d_stencil.extract<448, 463>());
  bfloat16_t _blur_d_stencil_37 = bfloat16_t::make_from_bits(blur_d_stencil.extract<464, 479>());
  bfloat16_t _blur_d_stencil_38 = bfloat16_t::make_from_bits(blur_d_stencil.extract<480, 495>());
  bfloat16_t _blur_d_stencil_39 = bfloat16_t::make_from_bits(blur_d_stencil.extract<496, 511>());
  bfloat16_t _blur_d_stencil_4 = bfloat16_t::make_from_bits(blur_d_stencil.extract<512, 527>());
  bfloat16_t _blur_d_stencil_40 = bfloat16_t::make_from_bits(blur_d_stencil.extract<528, 543>());
  bfloat16_t _blur_d_stencil_41 = bfloat16_t::make_from_bits(blur_d_stencil.extract<544, 559>());
  bfloat16_t _blur_d_stencil_42 = bfloat16_t::make_from_bits(blur_d_stencil.extract<560, 575>());
  bfloat16_t _blur_d_stencil_43 = bfloat16_t::make_from_bits(blur_d_stencil.extract<576, 591>());
  bfloat16_t _blur_d_stencil_44 = bfloat16_t::make_from_bits(blur_d_stencil.extract<592, 607>());
  bfloat16_t _blur_d_stencil_45 = bfloat16_t::make_from_bits(blur_d_stencil.extract<608, 623>());
  bfloat16_t _blur_d_stencil_46 = bfloat16_t::make_from_bits(blur_d_stencil.extract<624, 639>());
  bfloat16_t _blur_d_stencil_47 = bfloat16_t::make_from_bits(blur_d_stencil.extract<640, 655>());
  bfloat16_t _blur_d_stencil_48 = bfloat16_t::make_from_bits(blur_d_stencil.extract<656, 671>());
  bfloat16_t _blur_d_stencil_49 = bfloat16_t::make_from_bits(blur_d_stencil.extract<672, 687>());
  bfloat16_t _blur_d_stencil_5 = bfloat16_t::make_from_bits(blur_d_stencil.extract<688, 703>());
  bfloat16_t _blur_d_stencil_50 = bfloat16_t::make_from_bits(blur_d_stencil.extract<704, 719>());
  bfloat16_t _blur_d_stencil_6 = bfloat16_t::make_from_bits(blur_d_stencil.extract<720, 735>());
  bfloat16_t _blur_d_stencil_7 = bfloat16_t::make_from_bits(blur_d_stencil.extract<736, 751>());
  bfloat16_t _blur_d_stencil_8 = bfloat16_t::make_from_bits(blur_d_stencil.extract<752, 767>());
  bfloat16_t _blur_d_stencil_9 = bfloat16_t::make_from_bits(blur_d_stencil.extract<768, 783>());

  bfloat16_t _hw_input_global_wrapper_stencil_10 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<0, 15>());
  bfloat16_t _hw_input_global_wrapper_stencil_11 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<16, 31>());
  bfloat16_t _hw_input_global_wrapper_stencil_12 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<32, 47>());
  bfloat16_t _hw_input_global_wrapper_stencil_13 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<48, 63>());
  bfloat16_t _hw_input_global_wrapper_stencil_14 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<64, 79>());
  bfloat16_t _hw_input_global_wrapper_stencil_15 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<80, 95>());
  bfloat16_t _hw_input_global_wrapper_stencil_16 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<96, 111>());
  bfloat16_t _hw_input_global_wrapper_stencil_17 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<112, 127>());
  bfloat16_t _hw_input_global_wrapper_stencil_18 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<128, 143>());
  bfloat16_t _hw_input_global_wrapper_stencil_19 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<144, 159>());
  bfloat16_t _hw_input_global_wrapper_stencil_20 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<160, 175>());
  bfloat16_t _hw_input_global_wrapper_stencil_21 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<176, 191>());
  bfloat16_t _hw_input_global_wrapper_stencil_22 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<192, 207>());
  bfloat16_t _hw_input_global_wrapper_stencil_23 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<208, 223>());
  bfloat16_t _hw_input_global_wrapper_stencil_24 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<224, 239>());
  bfloat16_t _hw_input_global_wrapper_stencil_25 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<240, 255>());
  bfloat16_t _hw_input_global_wrapper_stencil_26 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<256, 271>());
  bfloat16_t _hw_input_global_wrapper_stencil_27 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<272, 287>());
  bfloat16_t _hw_input_global_wrapper_stencil_28 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<288, 303>());
  bfloat16_t _hw_input_global_wrapper_stencil_29 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<304, 319>());
  bfloat16_t _hw_input_global_wrapper_stencil_30 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<320, 335>());
  bfloat16_t _hw_input_global_wrapper_stencil_31 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<336, 351>());
  bfloat16_t _hw_input_global_wrapper_stencil_32 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<352, 367>());
  bfloat16_t _hw_input_global_wrapper_stencil_33 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<368, 383>());
  bfloat16_t _hw_input_global_wrapper_stencil_34 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<384, 399>());
  bfloat16_t _hw_input_global_wrapper_stencil_35 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<400, 415>());
  bfloat16_t _hw_input_global_wrapper_stencil_36 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<416, 431>());
  bfloat16_t _hw_input_global_wrapper_stencil_37 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<432, 447>());
  bfloat16_t _hw_input_global_wrapper_stencil_38 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<448, 463>());
  bfloat16_t _hw_input_global_wrapper_stencil_39 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<464, 479>());
  bfloat16_t _hw_input_global_wrapper_stencil_40 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<480, 495>());
  bfloat16_t _hw_input_global_wrapper_stencil_41 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<496, 511>());
  bfloat16_t _hw_input_global_wrapper_stencil_42 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<512, 527>());
  bfloat16_t _hw_input_global_wrapper_stencil_43 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<528, 543>());
  bfloat16_t _hw_input_global_wrapper_stencil_44 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<544, 559>());
  bfloat16_t _hw_input_global_wrapper_stencil_45 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<560, 575>());
  bfloat16_t _hw_input_global_wrapper_stencil_46 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<576, 591>());
  bfloat16_t _hw_input_global_wrapper_stencil_47 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<592, 607>());
  bfloat16_t _hw_input_global_wrapper_stencil_48 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<608, 623>());
  bfloat16_t _hw_input_global_wrapper_stencil_49 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<624, 639>());
  bfloat16_t _hw_input_global_wrapper_stencil_50 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<640, 655>());
  bfloat16_t _hw_input_global_wrapper_stencil_51 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<656, 671>());
  bfloat16_t _hw_input_global_wrapper_stencil_52 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<672, 687>());
  bfloat16_t _hw_input_global_wrapper_stencil_53 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<688, 703>());
  bfloat16_t _hw_input_global_wrapper_stencil_54 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<704, 719>());
  bfloat16_t _hw_input_global_wrapper_stencil_55 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<720, 735>());
  bfloat16_t _hw_input_global_wrapper_stencil_7 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<736, 751>());
  bfloat16_t _hw_input_global_wrapper_stencil_8 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<752, 767>());
  bfloat16_t _hw_input_global_wrapper_stencil_9 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<768, 783>());

  bfloat16_t _non_local_means_sum_stencil_1 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());

  bfloat16_t _1038 = bfloat_from_bits(3216310272 /* -1.41406 */);
  bfloat16_t _1039 = _blur_d_stencil_2 * _1038;
  bfloat16_t _1040 = exp_bf16(_1039);
  bfloat16_t _1041 = _1040 * _hw_input_global_wrapper_stencil_7;
  bfloat16_t _1042 = _blur_d_stencil_3 * _1038;
  bfloat16_t _1043 = exp_bf16(_1042);
  bfloat16_t _1044 = _1043 * _hw_input_global_wrapper_stencil_8;
  bfloat16_t _1045 = _blur_d_stencil_4 * _1038;
  bfloat16_t _1046 = exp_bf16(_1045);
  bfloat16_t _1047 = _1046 * _hw_input_global_wrapper_stencil_9;
  bfloat16_t _1048 = _blur_d_stencil_5 * _1038;
  bfloat16_t _1049 = exp_bf16(_1048);
  bfloat16_t _1050 = _1049 * _hw_input_global_wrapper_stencil_10;
  bfloat16_t _1051 = _blur_d_stencil_6 * _1038;
  bfloat16_t _1052 = exp_bf16(_1051);
  bfloat16_t _1053 = _1052 * _hw_input_global_wrapper_stencil_11;
  bfloat16_t _1054 = _blur_d_stencil_7 * _1038;
  bfloat16_t _1055 = exp_bf16(_1054);
  bfloat16_t _1056 = _1055 * _hw_input_global_wrapper_stencil_12;
  bfloat16_t _1057 = _blur_d_stencil_8 * _1038;
  bfloat16_t _1058 = exp_bf16(_1057);
  bfloat16_t _1059 = _1058 * _hw_input_global_wrapper_stencil_13;
  bfloat16_t _1060 = _blur_d_stencil_9 * _1038;
  bfloat16_t _1061 = exp_bf16(_1060);
  bfloat16_t _1062 = _1061 * _hw_input_global_wrapper_stencil_14;
  bfloat16_t _1063 = _blur_d_stencil_10 * _1038;
  bfloat16_t _1064 = exp_bf16(_1063);
  bfloat16_t _1065 = _1064 * _hw_input_global_wrapper_stencil_15;
  bfloat16_t _1066 = _blur_d_stencil_11 * _1038;
  bfloat16_t _1067 = exp_bf16(_1066);
  bfloat16_t _1068 = _1067 * _hw_input_global_wrapper_stencil_16;
  bfloat16_t _1069 = _blur_d_stencil_12 * _1038;
  bfloat16_t _1070 = exp_bf16(_1069);
  bfloat16_t _1071 = _1070 * _hw_input_global_wrapper_stencil_17;
  bfloat16_t _1072 = _blur_d_stencil_13 * _1038;
  bfloat16_t _1073 = exp_bf16(_1072);
  bfloat16_t _1074 = _1073 * _hw_input_global_wrapper_stencil_18;
  bfloat16_t _1075 = _blur_d_stencil_14 * _1038;
  bfloat16_t _1076 = exp_bf16(_1075);
  bfloat16_t _1077 = _1076 * _hw_input_global_wrapper_stencil_19;
  bfloat16_t _1078 = _blur_d_stencil_15 * _1038;
  bfloat16_t _1079 = exp_bf16(_1078);
  bfloat16_t _1080 = _1079 * _hw_input_global_wrapper_stencil_20;
  bfloat16_t _1081 = _blur_d_stencil_16 * _1038;
  bfloat16_t _1082 = exp_bf16(_1081);
  bfloat16_t _1083 = _1082 * _hw_input_global_wrapper_stencil_21;
  bfloat16_t _1084 = _blur_d_stencil_17 * _1038;
  bfloat16_t _1085 = exp_bf16(_1084);
  bfloat16_t _1086 = _1085 * _hw_input_global_wrapper_stencil_22;
  bfloat16_t _1087 = _blur_d_stencil_18 * _1038;
  bfloat16_t _1088 = exp_bf16(_1087);
  bfloat16_t _1089 = _1088 * _hw_input_global_wrapper_stencil_23;
  bfloat16_t _1090 = _blur_d_stencil_19 * _1038;
  bfloat16_t _1091 = exp_bf16(_1090);
  bfloat16_t _1092 = _1091 * _hw_input_global_wrapper_stencil_24;
  bfloat16_t _1093 = _blur_d_stencil_20 * _1038;
  bfloat16_t _1094 = exp_bf16(_1093);
  bfloat16_t _1095 = _1094 * _hw_input_global_wrapper_stencil_25;
  bfloat16_t _1096 = _blur_d_stencil_21 * _1038;
  bfloat16_t _1097 = exp_bf16(_1096);
  bfloat16_t _1098 = _1097 * _hw_input_global_wrapper_stencil_26;
  bfloat16_t _1099 = _blur_d_stencil_22 * _1038;
  bfloat16_t _1100 = exp_bf16(_1099);
  bfloat16_t _1101 = _1100 * _hw_input_global_wrapper_stencil_27;
  bfloat16_t _1102 = _blur_d_stencil_23 * _1038;
  bfloat16_t _1103 = exp_bf16(_1102);
  bfloat16_t _1104 = _1103 * _hw_input_global_wrapper_stencil_28;
  bfloat16_t _1105 = _blur_d_stencil_24 * _1038;
  bfloat16_t _1106 = exp_bf16(_1105);
  bfloat16_t _1107 = _1106 * _hw_input_global_wrapper_stencil_29;
  bfloat16_t _1108 = _blur_d_stencil_25 * _1038;
  bfloat16_t _1109 = exp_bf16(_1108);
  bfloat16_t _1110 = _1109 * _hw_input_global_wrapper_stencil_30;
  bfloat16_t _1111 = _blur_d_stencil_26 * _1038;
  bfloat16_t _1112 = exp_bf16(_1111);
  bfloat16_t _1113 = _1112 * _hw_input_global_wrapper_stencil_31;
  bfloat16_t _1114 = _blur_d_stencil_27 * _1038;
  bfloat16_t _1115 = exp_bf16(_1114);
  bfloat16_t _1116 = _1115 * _hw_input_global_wrapper_stencil_32;
  bfloat16_t _1117 = _blur_d_stencil_28 * _1038;
  bfloat16_t _1118 = exp_bf16(_1117);
  bfloat16_t _1119 = _1118 * _hw_input_global_wrapper_stencil_33;
  bfloat16_t _1120 = _blur_d_stencil_29 * _1038;
  bfloat16_t _1121 = exp_bf16(_1120);
  bfloat16_t _1122 = _1121 * _hw_input_global_wrapper_stencil_34;
  bfloat16_t _1123 = _blur_d_stencil_30 * _1038;
  bfloat16_t _1124 = exp_bf16(_1123);
  bfloat16_t _1125 = _1124 * _hw_input_global_wrapper_stencil_35;
  bfloat16_t _1126 = _blur_d_stencil_31 * _1038;
  bfloat16_t _1127 = exp_bf16(_1126);
  bfloat16_t _1128 = _1127 * _hw_input_global_wrapper_stencil_36;
  bfloat16_t _1129 = _blur_d_stencil_32 * _1038;
  bfloat16_t _1130 = exp_bf16(_1129);
  bfloat16_t _1131 = _1130 * _hw_input_global_wrapper_stencil_37;
  bfloat16_t _1132 = _blur_d_stencil_33 * _1038;
  bfloat16_t _1133 = exp_bf16(_1132);
  bfloat16_t _1134 = _1133 * _hw_input_global_wrapper_stencil_38;
  bfloat16_t _1135 = _blur_d_stencil_34 * _1038;
  bfloat16_t _1136 = exp_bf16(_1135);
  bfloat16_t _1137 = _1136 * _hw_input_global_wrapper_stencil_39;
  bfloat16_t _1138 = _blur_d_stencil_35 * _1038;
  bfloat16_t _1139 = exp_bf16(_1138);
  bfloat16_t _1140 = _1139 * _hw_input_global_wrapper_stencil_40;
  bfloat16_t _1141 = _blur_d_stencil_36 * _1038;
  bfloat16_t _1142 = exp_bf16(_1141);
  bfloat16_t _1143 = _1142 * _hw_input_global_wrapper_stencil_41;
  bfloat16_t _1144 = _blur_d_stencil_37 * _1038;
  bfloat16_t _1145 = exp_bf16(_1144);
  bfloat16_t _1146 = _1145 * _hw_input_global_wrapper_stencil_42;
  bfloat16_t _1147 = _blur_d_stencil_38 * _1038;
  bfloat16_t _1148 = exp_bf16(_1147);
  bfloat16_t _1149 = _1148 * _hw_input_global_wrapper_stencil_43;
  bfloat16_t _1150 = _blur_d_stencil_39 * _1038;
  bfloat16_t _1151 = exp_bf16(_1150);
  bfloat16_t _1152 = _1151 * _hw_input_global_wrapper_stencil_44;
  bfloat16_t _1153 = _blur_d_stencil_40 * _1038;
  bfloat16_t _1154 = exp_bf16(_1153);
  bfloat16_t _1155 = _1154 * _hw_input_global_wrapper_stencil_45;
  bfloat16_t _1156 = _blur_d_stencil_41 * _1038;
  bfloat16_t _1157 = exp_bf16(_1156);
  bfloat16_t _1158 = _1157 * _hw_input_global_wrapper_stencil_46;
  bfloat16_t _1159 = _blur_d_stencil_42 * _1038;
  bfloat16_t _1160 = exp_bf16(_1159);
  bfloat16_t _1161 = _1160 * _hw_input_global_wrapper_stencil_47;
  bfloat16_t _1162 = _blur_d_stencil_43 * _1038;
  bfloat16_t _1163 = exp_bf16(_1162);
  bfloat16_t _1164 = _1163 * _hw_input_global_wrapper_stencil_48;
  bfloat16_t _1165 = _blur_d_stencil_44 * _1038;
  bfloat16_t _1166 = exp_bf16(_1165);
  bfloat16_t _1167 = _1166 * _hw_input_global_wrapper_stencil_49;
  bfloat16_t _1168 = _blur_d_stencil_45 * _1038;
  bfloat16_t _1169 = exp_bf16(_1168);
  bfloat16_t _1170 = _1169 * _hw_input_global_wrapper_stencil_50;
  bfloat16_t _1171 = _blur_d_stencil_46 * _1038;
  bfloat16_t _1172 = exp_bf16(_1171);
  bfloat16_t _1173 = _1172 * _hw_input_global_wrapper_stencil_51;
  bfloat16_t _1174 = _blur_d_stencil_47 * _1038;
  bfloat16_t _1175 = exp_bf16(_1174);
  bfloat16_t _1176 = _1175 * _hw_input_global_wrapper_stencil_52;
  bfloat16_t _1177 = _blur_d_stencil_48 * _1038;
  bfloat16_t _1178 = exp_bf16(_1177);
  bfloat16_t _1179 = _1178 * _hw_input_global_wrapper_stencil_53;
  bfloat16_t _1180 = _blur_d_stencil_49 * _1038;
  bfloat16_t _1181 = exp_bf16(_1180);
  bfloat16_t _1182 = _1181 * _hw_input_global_wrapper_stencil_54;
  bfloat16_t _1183 = _blur_d_stencil_50 * _1038;
  bfloat16_t _1184 = exp_bf16(_1183);
  bfloat16_t _1185 = _1184 * _hw_input_global_wrapper_stencil_55;
  bfloat16_t _1186 = _non_local_means_sum_stencil_1 + _1185;
  bfloat16_t _1187 = _1182 + _1186;
  bfloat16_t _1188 = _1179 + _1187;
  bfloat16_t _1189 = _1176 + _1188;
  bfloat16_t _1190 = _1173 + _1189;
  bfloat16_t _1191 = _1170 + _1190;
  bfloat16_t _1192 = _1167 + _1191;
  bfloat16_t _1193 = _1164 + _1192;
  bfloat16_t _1194 = _1161 + _1193;
  bfloat16_t _1195 = _1158 + _1194;
  bfloat16_t _1196 = _1155 + _1195;
  bfloat16_t _1197 = _1152 + _1196;
  bfloat16_t _1198 = _1149 + _1197;
  bfloat16_t _1199 = _1146 + _1198;
  bfloat16_t _1200 = _1143 + _1199;
  bfloat16_t _1201 = _1140 + _1200;
  bfloat16_t _1202 = _1137 + _1201;
  bfloat16_t _1203 = _1134 + _1202;
  bfloat16_t _1204 = _1131 + _1203;
  bfloat16_t _1205 = _1128 + _1204;
  bfloat16_t _1206 = _1125 + _1205;
  bfloat16_t _1207 = _1122 + _1206;
  bfloat16_t _1208 = _1119 + _1207;
  bfloat16_t _1209 = _1116 + _1208;
  bfloat16_t _1210 = _1113 + _1209;
  bfloat16_t _1211 = _1110 + _1210;
  bfloat16_t _1212 = _1107 + _1211;
  bfloat16_t _1213 = _1104 + _1212;
  bfloat16_t _1214 = _1101 + _1213;
  bfloat16_t _1215 = _1098 + _1214;
  bfloat16_t _1216 = _1095 + _1215;
  bfloat16_t _1217 = _1092 + _1216;
  bfloat16_t _1218 = _1089 + _1217;
  bfloat16_t _1219 = _1086 + _1218;
  bfloat16_t _1220 = _1083 + _1219;
  bfloat16_t _1221 = _1080 + _1220;
  bfloat16_t _1222 = _1077 + _1221;
  bfloat16_t _1223 = _1074 + _1222;
  bfloat16_t _1224 = _1071 + _1223;
  bfloat16_t _1225 = _1068 + _1224;
  bfloat16_t _1226 = _1065 + _1225;
  bfloat16_t _1227 = _1062 + _1226;
  bfloat16_t _1228 = _1059 + _1227;
  bfloat16_t _1229 = _1056 + _1228;
  bfloat16_t _1230 = _1053 + _1229;
  bfloat16_t _1231 = _1050 + _1230;
  bfloat16_t _1232 = _1047 + _1231;
  bfloat16_t _1233 = _1044 + _1232;
  bfloat16_t _1234 = _1041 + _1233;
  return _1234;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1) = ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 6)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 5)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 4)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 3)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 2)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 1)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 3))) + (non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 0)*-1.414062h))*hw_input_global_wrapper.stencil(1, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 3))))))))))))))))))))))))))))))))))))))))))))))))))))
hw_uint<16> hcompute_non_local_means_sum_stencil_5(hw_uint<784>& blur_d_stencil, hw_uint<784>& hw_input_global_wrapper_stencil, hw_uint<16>& non_local_means_sum_stencil) {
  bfloat16_t _blur_d_stencil_51 = bfloat16_t::make_from_bits(blur_d_stencil.extract<0, 15>());
  bfloat16_t _blur_d_stencil_52 = bfloat16_t::make_from_bits(blur_d_stencil.extract<16, 31>());
  bfloat16_t _blur_d_stencil_53 = bfloat16_t::make_from_bits(blur_d_stencil.extract<32, 47>());
  bfloat16_t _blur_d_stencil_54 = bfloat16_t::make_from_bits(blur_d_stencil.extract<48, 63>());
  bfloat16_t _blur_d_stencil_55 = bfloat16_t::make_from_bits(blur_d_stencil.extract<64, 79>());
  bfloat16_t _blur_d_stencil_56 = bfloat16_t::make_from_bits(blur_d_stencil.extract<80, 95>());
  bfloat16_t _blur_d_stencil_57 = bfloat16_t::make_from_bits(blur_d_stencil.extract<96, 111>());
  bfloat16_t _blur_d_stencil_58 = bfloat16_t::make_from_bits(blur_d_stencil.extract<112, 127>());
  bfloat16_t _blur_d_stencil_59 = bfloat16_t::make_from_bits(blur_d_stencil.extract<128, 143>());
  bfloat16_t _blur_d_stencil_60 = bfloat16_t::make_from_bits(blur_d_stencil.extract<144, 159>());
  bfloat16_t _blur_d_stencil_61 = bfloat16_t::make_from_bits(blur_d_stencil.extract<160, 175>());
  bfloat16_t _blur_d_stencil_62 = bfloat16_t::make_from_bits(blur_d_stencil.extract<176, 191>());
  bfloat16_t _blur_d_stencil_63 = bfloat16_t::make_from_bits(blur_d_stencil.extract<192, 207>());
  bfloat16_t _blur_d_stencil_64 = bfloat16_t::make_from_bits(blur_d_stencil.extract<208, 223>());
  bfloat16_t _blur_d_stencil_65 = bfloat16_t::make_from_bits(blur_d_stencil.extract<224, 239>());
  bfloat16_t _blur_d_stencil_66 = bfloat16_t::make_from_bits(blur_d_stencil.extract<240, 255>());
  bfloat16_t _blur_d_stencil_67 = bfloat16_t::make_from_bits(blur_d_stencil.extract<256, 271>());
  bfloat16_t _blur_d_stencil_68 = bfloat16_t::make_from_bits(blur_d_stencil.extract<272, 287>());
  bfloat16_t _blur_d_stencil_69 = bfloat16_t::make_from_bits(blur_d_stencil.extract<288, 303>());
  bfloat16_t _blur_d_stencil_70 = bfloat16_t::make_from_bits(blur_d_stencil.extract<304, 319>());
  bfloat16_t _blur_d_stencil_71 = bfloat16_t::make_from_bits(blur_d_stencil.extract<320, 335>());
  bfloat16_t _blur_d_stencil_72 = bfloat16_t::make_from_bits(blur_d_stencil.extract<336, 351>());
  bfloat16_t _blur_d_stencil_73 = bfloat16_t::make_from_bits(blur_d_stencil.extract<352, 367>());
  bfloat16_t _blur_d_stencil_74 = bfloat16_t::make_from_bits(blur_d_stencil.extract<368, 383>());
  bfloat16_t _blur_d_stencil_75 = bfloat16_t::make_from_bits(blur_d_stencil.extract<384, 399>());
  bfloat16_t _blur_d_stencil_76 = bfloat16_t::make_from_bits(blur_d_stencil.extract<400, 415>());
  bfloat16_t _blur_d_stencil_77 = bfloat16_t::make_from_bits(blur_d_stencil.extract<416, 431>());
  bfloat16_t _blur_d_stencil_78 = bfloat16_t::make_from_bits(blur_d_stencil.extract<432, 447>());
  bfloat16_t _blur_d_stencil_79 = bfloat16_t::make_from_bits(blur_d_stencil.extract<448, 463>());
  bfloat16_t _blur_d_stencil_80 = bfloat16_t::make_from_bits(blur_d_stencil.extract<464, 479>());
  bfloat16_t _blur_d_stencil_81 = bfloat16_t::make_from_bits(blur_d_stencil.extract<480, 495>());
  bfloat16_t _blur_d_stencil_82 = bfloat16_t::make_from_bits(blur_d_stencil.extract<496, 511>());
  bfloat16_t _blur_d_stencil_83 = bfloat16_t::make_from_bits(blur_d_stencil.extract<512, 527>());
  bfloat16_t _blur_d_stencil_84 = bfloat16_t::make_from_bits(blur_d_stencil.extract<528, 543>());
  bfloat16_t _blur_d_stencil_85 = bfloat16_t::make_from_bits(blur_d_stencil.extract<544, 559>());
  bfloat16_t _blur_d_stencil_86 = bfloat16_t::make_from_bits(blur_d_stencil.extract<560, 575>());
  bfloat16_t _blur_d_stencil_87 = bfloat16_t::make_from_bits(blur_d_stencil.extract<576, 591>());
  bfloat16_t _blur_d_stencil_88 = bfloat16_t::make_from_bits(blur_d_stencil.extract<592, 607>());
  bfloat16_t _blur_d_stencil_89 = bfloat16_t::make_from_bits(blur_d_stencil.extract<608, 623>());
  bfloat16_t _blur_d_stencil_90 = bfloat16_t::make_from_bits(blur_d_stencil.extract<624, 639>());
  bfloat16_t _blur_d_stencil_91 = bfloat16_t::make_from_bits(blur_d_stencil.extract<640, 655>());
  bfloat16_t _blur_d_stencil_92 = bfloat16_t::make_from_bits(blur_d_stencil.extract<656, 671>());
  bfloat16_t _blur_d_stencil_93 = bfloat16_t::make_from_bits(blur_d_stencil.extract<672, 687>());
  bfloat16_t _blur_d_stencil_94 = bfloat16_t::make_from_bits(blur_d_stencil.extract<688, 703>());
  bfloat16_t _blur_d_stencil_95 = bfloat16_t::make_from_bits(blur_d_stencil.extract<704, 719>());
  bfloat16_t _blur_d_stencil_96 = bfloat16_t::make_from_bits(blur_d_stencil.extract<720, 735>());
  bfloat16_t _blur_d_stencil_97 = bfloat16_t::make_from_bits(blur_d_stencil.extract<736, 751>());
  bfloat16_t _blur_d_stencil_98 = bfloat16_t::make_from_bits(blur_d_stencil.extract<752, 767>());
  bfloat16_t _blur_d_stencil_99 = bfloat16_t::make_from_bits(blur_d_stencil.extract<768, 783>());

  bfloat16_t _hw_input_global_wrapper_stencil_100 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<0, 15>());
  bfloat16_t _hw_input_global_wrapper_stencil_101 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<16, 31>());
  bfloat16_t _hw_input_global_wrapper_stencil_102 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<32, 47>());
  bfloat16_t _hw_input_global_wrapper_stencil_103 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<48, 63>());
  bfloat16_t _hw_input_global_wrapper_stencil_104 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<64, 79>());
  bfloat16_t _hw_input_global_wrapper_stencil_56 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<80, 95>());
  bfloat16_t _hw_input_global_wrapper_stencil_57 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<96, 111>());
  bfloat16_t _hw_input_global_wrapper_stencil_58 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<112, 127>());
  bfloat16_t _hw_input_global_wrapper_stencil_59 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<128, 143>());
  bfloat16_t _hw_input_global_wrapper_stencil_60 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<144, 159>());
  bfloat16_t _hw_input_global_wrapper_stencil_61 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<160, 175>());
  bfloat16_t _hw_input_global_wrapper_stencil_62 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<176, 191>());
  bfloat16_t _hw_input_global_wrapper_stencil_63 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<192, 207>());
  bfloat16_t _hw_input_global_wrapper_stencil_64 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<208, 223>());
  bfloat16_t _hw_input_global_wrapper_stencil_65 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<224, 239>());
  bfloat16_t _hw_input_global_wrapper_stencil_66 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<240, 255>());
  bfloat16_t _hw_input_global_wrapper_stencil_67 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<256, 271>());
  bfloat16_t _hw_input_global_wrapper_stencil_68 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<272, 287>());
  bfloat16_t _hw_input_global_wrapper_stencil_69 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<288, 303>());
  bfloat16_t _hw_input_global_wrapper_stencil_70 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<304, 319>());
  bfloat16_t _hw_input_global_wrapper_stencil_71 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<320, 335>());
  bfloat16_t _hw_input_global_wrapper_stencil_72 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<336, 351>());
  bfloat16_t _hw_input_global_wrapper_stencil_73 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<352, 367>());
  bfloat16_t _hw_input_global_wrapper_stencil_74 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<368, 383>());
  bfloat16_t _hw_input_global_wrapper_stencil_75 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<384, 399>());
  bfloat16_t _hw_input_global_wrapper_stencil_76 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<400, 415>());
  bfloat16_t _hw_input_global_wrapper_stencil_77 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<416, 431>());
  bfloat16_t _hw_input_global_wrapper_stencil_78 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<432, 447>());
  bfloat16_t _hw_input_global_wrapper_stencil_79 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<448, 463>());
  bfloat16_t _hw_input_global_wrapper_stencil_80 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<464, 479>());
  bfloat16_t _hw_input_global_wrapper_stencil_81 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<480, 495>());
  bfloat16_t _hw_input_global_wrapper_stencil_82 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<496, 511>());
  bfloat16_t _hw_input_global_wrapper_stencil_83 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<512, 527>());
  bfloat16_t _hw_input_global_wrapper_stencil_84 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<528, 543>());
  bfloat16_t _hw_input_global_wrapper_stencil_85 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<544, 559>());
  bfloat16_t _hw_input_global_wrapper_stencil_86 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<560, 575>());
  bfloat16_t _hw_input_global_wrapper_stencil_87 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<576, 591>());
  bfloat16_t _hw_input_global_wrapper_stencil_88 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<592, 607>());
  bfloat16_t _hw_input_global_wrapper_stencil_89 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<608, 623>());
  bfloat16_t _hw_input_global_wrapper_stencil_90 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<624, 639>());
  bfloat16_t _hw_input_global_wrapper_stencil_91 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<640, 655>());
  bfloat16_t _hw_input_global_wrapper_stencil_92 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<656, 671>());
  bfloat16_t _hw_input_global_wrapper_stencil_93 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<672, 687>());
  bfloat16_t _hw_input_global_wrapper_stencil_94 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<688, 703>());
  bfloat16_t _hw_input_global_wrapper_stencil_95 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<704, 719>());
  bfloat16_t _hw_input_global_wrapper_stencil_96 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<720, 735>());
  bfloat16_t _hw_input_global_wrapper_stencil_97 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<736, 751>());
  bfloat16_t _hw_input_global_wrapper_stencil_98 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<752, 767>());
  bfloat16_t _hw_input_global_wrapper_stencil_99 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<768, 783>());

  bfloat16_t _non_local_means_sum_stencil_2 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());

  bfloat16_t _1742 = bfloat_from_bits(3216310272 /* -1.41406 */);
  bfloat16_t _1743 = _blur_d_stencil_51 * _1742;
  bfloat16_t _1744 = exp_bf16(_1743);
  bfloat16_t _1745 = _1744 * _hw_input_global_wrapper_stencil_56;
  bfloat16_t _1746 = _blur_d_stencil_52 * _1742;
  bfloat16_t _1747 = exp_bf16(_1746);
  bfloat16_t _1748 = _1747 * _hw_input_global_wrapper_stencil_57;
  bfloat16_t _1749 = _blur_d_stencil_53 * _1742;
  bfloat16_t _1750 = exp_bf16(_1749);
  bfloat16_t _1751 = _1750 * _hw_input_global_wrapper_stencil_58;
  bfloat16_t _1752 = _blur_d_stencil_54 * _1742;
  bfloat16_t _1753 = exp_bf16(_1752);
  bfloat16_t _1754 = _1753 * _hw_input_global_wrapper_stencil_59;
  bfloat16_t _1755 = _blur_d_stencil_55 * _1742;
  bfloat16_t _1756 = exp_bf16(_1755);
  bfloat16_t _1757 = _1756 * _hw_input_global_wrapper_stencil_60;
  bfloat16_t _1758 = _blur_d_stencil_56 * _1742;
  bfloat16_t _1759 = exp_bf16(_1758);
  bfloat16_t _1760 = _1759 * _hw_input_global_wrapper_stencil_61;
  bfloat16_t _1761 = _blur_d_stencil_57 * _1742;
  bfloat16_t _1762 = exp_bf16(_1761);
  bfloat16_t _1763 = _1762 * _hw_input_global_wrapper_stencil_62;
  bfloat16_t _1764 = _blur_d_stencil_58 * _1742;
  bfloat16_t _1765 = exp_bf16(_1764);
  bfloat16_t _1766 = _1765 * _hw_input_global_wrapper_stencil_63;
  bfloat16_t _1767 = _blur_d_stencil_59 * _1742;
  bfloat16_t _1768 = exp_bf16(_1767);
  bfloat16_t _1769 = _1768 * _hw_input_global_wrapper_stencil_64;
  bfloat16_t _1770 = _blur_d_stencil_60 * _1742;
  bfloat16_t _1771 = exp_bf16(_1770);
  bfloat16_t _1772 = _1771 * _hw_input_global_wrapper_stencil_65;
  bfloat16_t _1773 = _blur_d_stencil_61 * _1742;
  bfloat16_t _1774 = exp_bf16(_1773);
  bfloat16_t _1775 = _1774 * _hw_input_global_wrapper_stencil_66;
  bfloat16_t _1776 = _blur_d_stencil_62 * _1742;
  bfloat16_t _1777 = exp_bf16(_1776);
  bfloat16_t _1778 = _1777 * _hw_input_global_wrapper_stencil_67;
  bfloat16_t _1779 = _blur_d_stencil_63 * _1742;
  bfloat16_t _1780 = exp_bf16(_1779);
  bfloat16_t _1781 = _1780 * _hw_input_global_wrapper_stencil_68;
  bfloat16_t _1782 = _blur_d_stencil_64 * _1742;
  bfloat16_t _1783 = exp_bf16(_1782);
  bfloat16_t _1784 = _1783 * _hw_input_global_wrapper_stencil_69;
  bfloat16_t _1785 = _blur_d_stencil_65 * _1742;
  bfloat16_t _1786 = exp_bf16(_1785);
  bfloat16_t _1787 = _1786 * _hw_input_global_wrapper_stencil_70;
  bfloat16_t _1788 = _blur_d_stencil_66 * _1742;
  bfloat16_t _1789 = exp_bf16(_1788);
  bfloat16_t _1790 = _1789 * _hw_input_global_wrapper_stencil_71;
  bfloat16_t _1791 = _blur_d_stencil_67 * _1742;
  bfloat16_t _1792 = exp_bf16(_1791);
  bfloat16_t _1793 = _1792 * _hw_input_global_wrapper_stencil_72;
  bfloat16_t _1794 = _blur_d_stencil_68 * _1742;
  bfloat16_t _1795 = exp_bf16(_1794);
  bfloat16_t _1796 = _1795 * _hw_input_global_wrapper_stencil_73;
  bfloat16_t _1797 = _blur_d_stencil_69 * _1742;
  bfloat16_t _1798 = exp_bf16(_1797);
  bfloat16_t _1799 = _1798 * _hw_input_global_wrapper_stencil_74;
  bfloat16_t _1800 = _blur_d_stencil_70 * _1742;
  bfloat16_t _1801 = exp_bf16(_1800);
  bfloat16_t _1802 = _1801 * _hw_input_global_wrapper_stencil_75;
  bfloat16_t _1803 = _blur_d_stencil_71 * _1742;
  bfloat16_t _1804 = exp_bf16(_1803);
  bfloat16_t _1805 = _1804 * _hw_input_global_wrapper_stencil_76;
  bfloat16_t _1806 = _blur_d_stencil_72 * _1742;
  bfloat16_t _1807 = exp_bf16(_1806);
  bfloat16_t _1808 = _1807 * _hw_input_global_wrapper_stencil_77;
  bfloat16_t _1809 = _blur_d_stencil_73 * _1742;
  bfloat16_t _1810 = exp_bf16(_1809);
  bfloat16_t _1811 = _1810 * _hw_input_global_wrapper_stencil_78;
  bfloat16_t _1812 = _blur_d_stencil_74 * _1742;
  bfloat16_t _1813 = exp_bf16(_1812);
  bfloat16_t _1814 = _1813 * _hw_input_global_wrapper_stencil_79;
  bfloat16_t _1815 = _blur_d_stencil_75 * _1742;
  bfloat16_t _1816 = exp_bf16(_1815);
  bfloat16_t _1817 = _1816 * _hw_input_global_wrapper_stencil_80;
  bfloat16_t _1818 = _blur_d_stencil_76 * _1742;
  bfloat16_t _1819 = exp_bf16(_1818);
  bfloat16_t _1820 = _1819 * _hw_input_global_wrapper_stencil_81;
  bfloat16_t _1821 = _blur_d_stencil_77 * _1742;
  bfloat16_t _1822 = exp_bf16(_1821);
  bfloat16_t _1823 = _1822 * _hw_input_global_wrapper_stencil_82;
  bfloat16_t _1824 = _blur_d_stencil_78 * _1742;
  bfloat16_t _1825 = exp_bf16(_1824);
  bfloat16_t _1826 = _1825 * _hw_input_global_wrapper_stencil_83;
  bfloat16_t _1827 = _blur_d_stencil_79 * _1742;
  bfloat16_t _1828 = exp_bf16(_1827);
  bfloat16_t _1829 = _1828 * _hw_input_global_wrapper_stencil_84;
  bfloat16_t _1830 = _blur_d_stencil_80 * _1742;
  bfloat16_t _1831 = exp_bf16(_1830);
  bfloat16_t _1832 = _1831 * _hw_input_global_wrapper_stencil_85;
  bfloat16_t _1833 = _blur_d_stencil_81 * _1742;
  bfloat16_t _1834 = exp_bf16(_1833);
  bfloat16_t _1835 = _1834 * _hw_input_global_wrapper_stencil_86;
  bfloat16_t _1836 = _blur_d_stencil_82 * _1742;
  bfloat16_t _1837 = exp_bf16(_1836);
  bfloat16_t _1838 = _1837 * _hw_input_global_wrapper_stencil_87;
  bfloat16_t _1839 = _blur_d_stencil_83 * _1742;
  bfloat16_t _1840 = exp_bf16(_1839);
  bfloat16_t _1841 = _1840 * _hw_input_global_wrapper_stencil_88;
  bfloat16_t _1842 = _blur_d_stencil_84 * _1742;
  bfloat16_t _1843 = exp_bf16(_1842);
  bfloat16_t _1844 = _1843 * _hw_input_global_wrapper_stencil_89;
  bfloat16_t _1845 = _blur_d_stencil_85 * _1742;
  bfloat16_t _1846 = exp_bf16(_1845);
  bfloat16_t _1847 = _1846 * _hw_input_global_wrapper_stencil_90;
  bfloat16_t _1848 = _blur_d_stencil_86 * _1742;
  bfloat16_t _1849 = exp_bf16(_1848);
  bfloat16_t _1850 = _1849 * _hw_input_global_wrapper_stencil_91;
  bfloat16_t _1851 = _blur_d_stencil_87 * _1742;
  bfloat16_t _1852 = exp_bf16(_1851);
  bfloat16_t _1853 = _1852 * _hw_input_global_wrapper_stencil_92;
  bfloat16_t _1854 = _blur_d_stencil_88 * _1742;
  bfloat16_t _1855 = exp_bf16(_1854);
  bfloat16_t _1856 = _1855 * _hw_input_global_wrapper_stencil_93;
  bfloat16_t _1857 = _blur_d_stencil_89 * _1742;
  bfloat16_t _1858 = exp_bf16(_1857);
  bfloat16_t _1859 = _1858 * _hw_input_global_wrapper_stencil_94;
  bfloat16_t _1860 = _blur_d_stencil_90 * _1742;
  bfloat16_t _1861 = exp_bf16(_1860);
  bfloat16_t _1862 = _1861 * _hw_input_global_wrapper_stencil_95;
  bfloat16_t _1863 = _blur_d_stencil_91 * _1742;
  bfloat16_t _1864 = exp_bf16(_1863);
  bfloat16_t _1865 = _1864 * _hw_input_global_wrapper_stencil_96;
  bfloat16_t _1866 = _blur_d_stencil_92 * _1742;
  bfloat16_t _1867 = exp_bf16(_1866);
  bfloat16_t _1868 = _1867 * _hw_input_global_wrapper_stencil_97;
  bfloat16_t _1869 = _blur_d_stencil_93 * _1742;
  bfloat16_t _1870 = exp_bf16(_1869);
  bfloat16_t _1871 = _1870 * _hw_input_global_wrapper_stencil_98;
  bfloat16_t _1872 = _blur_d_stencil_94 * _1742;
  bfloat16_t _1873 = exp_bf16(_1872);
  bfloat16_t _1874 = _1873 * _hw_input_global_wrapper_stencil_99;
  bfloat16_t _1875 = _blur_d_stencil_95 * _1742;
  bfloat16_t _1876 = exp_bf16(_1875);
  bfloat16_t _1877 = _1876 * _hw_input_global_wrapper_stencil_100;
  bfloat16_t _1878 = _blur_d_stencil_96 * _1742;
  bfloat16_t _1879 = exp_bf16(_1878);
  bfloat16_t _1880 = _1879 * _hw_input_global_wrapper_stencil_101;
  bfloat16_t _1881 = _blur_d_stencil_97 * _1742;
  bfloat16_t _1882 = exp_bf16(_1881);
  bfloat16_t _1883 = _1882 * _hw_input_global_wrapper_stencil_102;
  bfloat16_t _1884 = _blur_d_stencil_98 * _1742;
  bfloat16_t _1885 = exp_bf16(_1884);
  bfloat16_t _1886 = _1885 * _hw_input_global_wrapper_stencil_103;
  bfloat16_t _1887 = _blur_d_stencil_99 * _1742;
  bfloat16_t _1888 = exp_bf16(_1887);
  bfloat16_t _1889 = _1888 * _hw_input_global_wrapper_stencil_104;
  bfloat16_t _1890 = _non_local_means_sum_stencil_2 + _1889;
  bfloat16_t _1891 = _1886 + _1890;
  bfloat16_t _1892 = _1883 + _1891;
  bfloat16_t _1893 = _1880 + _1892;
  bfloat16_t _1894 = _1877 + _1893;
  bfloat16_t _1895 = _1874 + _1894;
  bfloat16_t _1896 = _1871 + _1895;
  bfloat16_t _1897 = _1868 + _1896;
  bfloat16_t _1898 = _1865 + _1897;
  bfloat16_t _1899 = _1862 + _1898;
  bfloat16_t _1900 = _1859 + _1899;
  bfloat16_t _1901 = _1856 + _1900;
  bfloat16_t _1902 = _1853 + _1901;
  bfloat16_t _1903 = _1850 + _1902;
  bfloat16_t _1904 = _1847 + _1903;
  bfloat16_t _1905 = _1844 + _1904;
  bfloat16_t _1906 = _1841 + _1905;
  bfloat16_t _1907 = _1838 + _1906;
  bfloat16_t _1908 = _1835 + _1907;
  bfloat16_t _1909 = _1832 + _1908;
  bfloat16_t _1910 = _1829 + _1909;
  bfloat16_t _1911 = _1826 + _1910;
  bfloat16_t _1912 = _1823 + _1911;
  bfloat16_t _1913 = _1820 + _1912;
  bfloat16_t _1914 = _1817 + _1913;
  bfloat16_t _1915 = _1814 + _1914;
  bfloat16_t _1916 = _1811 + _1915;
  bfloat16_t _1917 = _1808 + _1916;
  bfloat16_t _1918 = _1805 + _1917;
  bfloat16_t _1919 = _1802 + _1918;
  bfloat16_t _1920 = _1799 + _1919;
  bfloat16_t _1921 = _1796 + _1920;
  bfloat16_t _1922 = _1793 + _1921;
  bfloat16_t _1923 = _1790 + _1922;
  bfloat16_t _1924 = _1787 + _1923;
  bfloat16_t _1925 = _1784 + _1924;
  bfloat16_t _1926 = _1781 + _1925;
  bfloat16_t _1927 = _1778 + _1926;
  bfloat16_t _1928 = _1775 + _1927;
  bfloat16_t _1929 = _1772 + _1928;
  bfloat16_t _1930 = _1769 + _1929;
  bfloat16_t _1931 = _1766 + _1930;
  bfloat16_t _1932 = _1763 + _1931;
  bfloat16_t _1933 = _1760 + _1932;
  bfloat16_t _1934 = _1757 + _1933;
  bfloat16_t _1935 = _1754 + _1934;
  bfloat16_t _1936 = _1751 + _1935;
  bfloat16_t _1937 = _1748 + _1936;
  bfloat16_t _1938 = _1745 + _1937;
  return _1938;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2) = ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 6)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 9))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 5)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 8))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 4)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 7))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 3)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 6))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 2)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 5))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 1)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 4))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 9), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 8), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 7), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 6), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 5), (non_local_means_sum_s1_y + 3))) + ((exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 4), (non_local_means_sum_s1_y + 3))) + (non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 0)*-1.414062h))*hw_input_global_wrapper.stencil(2, (non_local_means_sum_s1_x + 3), (non_local_means_sum_s1_y + 3))))))))))))))))))))))))))))))))))))))))))))))))))))
hw_uint<16> hcompute_non_local_means_sum_stencil_6(hw_uint<784>& blur_d_stencil, hw_uint<784>& hw_input_global_wrapper_stencil, hw_uint<16>& non_local_means_sum_stencil) {
  bfloat16_t _blur_d_stencil_100 = bfloat16_t::make_from_bits(blur_d_stencil.extract<0, 15>());
  bfloat16_t _blur_d_stencil_101 = bfloat16_t::make_from_bits(blur_d_stencil.extract<16, 31>());
  bfloat16_t _blur_d_stencil_102 = bfloat16_t::make_from_bits(blur_d_stencil.extract<32, 47>());
  bfloat16_t _blur_d_stencil_103 = bfloat16_t::make_from_bits(blur_d_stencil.extract<48, 63>());
  bfloat16_t _blur_d_stencil_104 = bfloat16_t::make_from_bits(blur_d_stencil.extract<64, 79>());
  bfloat16_t _blur_d_stencil_105 = bfloat16_t::make_from_bits(blur_d_stencil.extract<80, 95>());
  bfloat16_t _blur_d_stencil_106 = bfloat16_t::make_from_bits(blur_d_stencil.extract<96, 111>());
  bfloat16_t _blur_d_stencil_107 = bfloat16_t::make_from_bits(blur_d_stencil.extract<112, 127>());
  bfloat16_t _blur_d_stencil_108 = bfloat16_t::make_from_bits(blur_d_stencil.extract<128, 143>());
  bfloat16_t _blur_d_stencil_109 = bfloat16_t::make_from_bits(blur_d_stencil.extract<144, 159>());
  bfloat16_t _blur_d_stencil_110 = bfloat16_t::make_from_bits(blur_d_stencil.extract<160, 175>());
  bfloat16_t _blur_d_stencil_111 = bfloat16_t::make_from_bits(blur_d_stencil.extract<176, 191>());
  bfloat16_t _blur_d_stencil_112 = bfloat16_t::make_from_bits(blur_d_stencil.extract<192, 207>());
  bfloat16_t _blur_d_stencil_113 = bfloat16_t::make_from_bits(blur_d_stencil.extract<208, 223>());
  bfloat16_t _blur_d_stencil_114 = bfloat16_t::make_from_bits(blur_d_stencil.extract<224, 239>());
  bfloat16_t _blur_d_stencil_115 = bfloat16_t::make_from_bits(blur_d_stencil.extract<240, 255>());
  bfloat16_t _blur_d_stencil_116 = bfloat16_t::make_from_bits(blur_d_stencil.extract<256, 271>());
  bfloat16_t _blur_d_stencil_117 = bfloat16_t::make_from_bits(blur_d_stencil.extract<272, 287>());
  bfloat16_t _blur_d_stencil_118 = bfloat16_t::make_from_bits(blur_d_stencil.extract<288, 303>());
  bfloat16_t _blur_d_stencil_119 = bfloat16_t::make_from_bits(blur_d_stencil.extract<304, 319>());
  bfloat16_t _blur_d_stencil_120 = bfloat16_t::make_from_bits(blur_d_stencil.extract<320, 335>());
  bfloat16_t _blur_d_stencil_121 = bfloat16_t::make_from_bits(blur_d_stencil.extract<336, 351>());
  bfloat16_t _blur_d_stencil_122 = bfloat16_t::make_from_bits(blur_d_stencil.extract<352, 367>());
  bfloat16_t _blur_d_stencil_123 = bfloat16_t::make_from_bits(blur_d_stencil.extract<368, 383>());
  bfloat16_t _blur_d_stencil_124 = bfloat16_t::make_from_bits(blur_d_stencil.extract<384, 399>());
  bfloat16_t _blur_d_stencil_125 = bfloat16_t::make_from_bits(blur_d_stencil.extract<400, 415>());
  bfloat16_t _blur_d_stencil_126 = bfloat16_t::make_from_bits(blur_d_stencil.extract<416, 431>());
  bfloat16_t _blur_d_stencil_127 = bfloat16_t::make_from_bits(blur_d_stencil.extract<432, 447>());
  bfloat16_t _blur_d_stencil_128 = bfloat16_t::make_from_bits(blur_d_stencil.extract<448, 463>());
  bfloat16_t _blur_d_stencil_129 = bfloat16_t::make_from_bits(blur_d_stencil.extract<464, 479>());
  bfloat16_t _blur_d_stencil_130 = bfloat16_t::make_from_bits(blur_d_stencil.extract<480, 495>());
  bfloat16_t _blur_d_stencil_131 = bfloat16_t::make_from_bits(blur_d_stencil.extract<496, 511>());
  bfloat16_t _blur_d_stencil_132 = bfloat16_t::make_from_bits(blur_d_stencil.extract<512, 527>());
  bfloat16_t _blur_d_stencil_133 = bfloat16_t::make_from_bits(blur_d_stencil.extract<528, 543>());
  bfloat16_t _blur_d_stencil_134 = bfloat16_t::make_from_bits(blur_d_stencil.extract<544, 559>());
  bfloat16_t _blur_d_stencil_135 = bfloat16_t::make_from_bits(blur_d_stencil.extract<560, 575>());
  bfloat16_t _blur_d_stencil_136 = bfloat16_t::make_from_bits(blur_d_stencil.extract<576, 591>());
  bfloat16_t _blur_d_stencil_137 = bfloat16_t::make_from_bits(blur_d_stencil.extract<592, 607>());
  bfloat16_t _blur_d_stencil_138 = bfloat16_t::make_from_bits(blur_d_stencil.extract<608, 623>());
  bfloat16_t _blur_d_stencil_139 = bfloat16_t::make_from_bits(blur_d_stencil.extract<624, 639>());
  bfloat16_t _blur_d_stencil_140 = bfloat16_t::make_from_bits(blur_d_stencil.extract<640, 655>());
  bfloat16_t _blur_d_stencil_141 = bfloat16_t::make_from_bits(blur_d_stencil.extract<656, 671>());
  bfloat16_t _blur_d_stencil_142 = bfloat16_t::make_from_bits(blur_d_stencil.extract<672, 687>());
  bfloat16_t _blur_d_stencil_143 = bfloat16_t::make_from_bits(blur_d_stencil.extract<688, 703>());
  bfloat16_t _blur_d_stencil_144 = bfloat16_t::make_from_bits(blur_d_stencil.extract<704, 719>());
  bfloat16_t _blur_d_stencil_145 = bfloat16_t::make_from_bits(blur_d_stencil.extract<720, 735>());
  bfloat16_t _blur_d_stencil_146 = bfloat16_t::make_from_bits(blur_d_stencil.extract<736, 751>());
  bfloat16_t _blur_d_stencil_147 = bfloat16_t::make_from_bits(blur_d_stencil.extract<752, 767>());
  bfloat16_t _blur_d_stencil_148 = bfloat16_t::make_from_bits(blur_d_stencil.extract<768, 783>());

  bfloat16_t _hw_input_global_wrapper_stencil_105 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<0, 15>());
  bfloat16_t _hw_input_global_wrapper_stencil_106 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<16, 31>());
  bfloat16_t _hw_input_global_wrapper_stencil_107 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<32, 47>());
  bfloat16_t _hw_input_global_wrapper_stencil_108 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<48, 63>());
  bfloat16_t _hw_input_global_wrapper_stencil_109 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<64, 79>());
  bfloat16_t _hw_input_global_wrapper_stencil_110 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<80, 95>());
  bfloat16_t _hw_input_global_wrapper_stencil_111 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<96, 111>());
  bfloat16_t _hw_input_global_wrapper_stencil_112 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<112, 127>());
  bfloat16_t _hw_input_global_wrapper_stencil_113 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<128, 143>());
  bfloat16_t _hw_input_global_wrapper_stencil_114 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<144, 159>());
  bfloat16_t _hw_input_global_wrapper_stencil_115 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<160, 175>());
  bfloat16_t _hw_input_global_wrapper_stencil_116 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<176, 191>());
  bfloat16_t _hw_input_global_wrapper_stencil_117 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<192, 207>());
  bfloat16_t _hw_input_global_wrapper_stencil_118 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<208, 223>());
  bfloat16_t _hw_input_global_wrapper_stencil_119 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<224, 239>());
  bfloat16_t _hw_input_global_wrapper_stencil_120 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<240, 255>());
  bfloat16_t _hw_input_global_wrapper_stencil_121 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<256, 271>());
  bfloat16_t _hw_input_global_wrapper_stencil_122 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<272, 287>());
  bfloat16_t _hw_input_global_wrapper_stencil_123 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<288, 303>());
  bfloat16_t _hw_input_global_wrapper_stencil_124 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<304, 319>());
  bfloat16_t _hw_input_global_wrapper_stencil_125 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<320, 335>());
  bfloat16_t _hw_input_global_wrapper_stencil_126 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<336, 351>());
  bfloat16_t _hw_input_global_wrapper_stencil_127 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<352, 367>());
  bfloat16_t _hw_input_global_wrapper_stencil_128 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<368, 383>());
  bfloat16_t _hw_input_global_wrapper_stencil_129 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<384, 399>());
  bfloat16_t _hw_input_global_wrapper_stencil_130 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<400, 415>());
  bfloat16_t _hw_input_global_wrapper_stencil_131 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<416, 431>());
  bfloat16_t _hw_input_global_wrapper_stencil_132 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<432, 447>());
  bfloat16_t _hw_input_global_wrapper_stencil_133 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<448, 463>());
  bfloat16_t _hw_input_global_wrapper_stencil_134 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<464, 479>());
  bfloat16_t _hw_input_global_wrapper_stencil_135 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<480, 495>());
  bfloat16_t _hw_input_global_wrapper_stencil_136 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<496, 511>());
  bfloat16_t _hw_input_global_wrapper_stencil_137 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<512, 527>());
  bfloat16_t _hw_input_global_wrapper_stencil_138 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<528, 543>());
  bfloat16_t _hw_input_global_wrapper_stencil_139 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<544, 559>());
  bfloat16_t _hw_input_global_wrapper_stencil_140 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<560, 575>());
  bfloat16_t _hw_input_global_wrapper_stencil_141 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<576, 591>());
  bfloat16_t _hw_input_global_wrapper_stencil_142 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<592, 607>());
  bfloat16_t _hw_input_global_wrapper_stencil_143 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<608, 623>());
  bfloat16_t _hw_input_global_wrapper_stencil_144 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<624, 639>());
  bfloat16_t _hw_input_global_wrapper_stencil_145 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<640, 655>());
  bfloat16_t _hw_input_global_wrapper_stencil_146 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<656, 671>());
  bfloat16_t _hw_input_global_wrapper_stencil_147 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<672, 687>());
  bfloat16_t _hw_input_global_wrapper_stencil_148 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<688, 703>());
  bfloat16_t _hw_input_global_wrapper_stencil_149 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<704, 719>());
  bfloat16_t _hw_input_global_wrapper_stencil_150 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<720, 735>());
  bfloat16_t _hw_input_global_wrapper_stencil_151 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<736, 751>());
  bfloat16_t _hw_input_global_wrapper_stencil_152 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<752, 767>());
  bfloat16_t _hw_input_global_wrapper_stencil_153 = bfloat16_t::make_from_bits(hw_input_global_wrapper_stencil.extract<768, 783>());

  bfloat16_t _non_local_means_sum_stencil_3 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());

  bfloat16_t _2446 = bfloat_from_bits(3216310272 /* -1.41406 */);
  bfloat16_t _2447 = _blur_d_stencil_100 * _2446;
  bfloat16_t _2448 = exp_bf16(_2447);
  bfloat16_t _2449 = _2448 * _hw_input_global_wrapper_stencil_105;
  bfloat16_t _2450 = _blur_d_stencil_101 * _2446;
  bfloat16_t _2451 = exp_bf16(_2450);
  bfloat16_t _2452 = _2451 * _hw_input_global_wrapper_stencil_106;
  bfloat16_t _2453 = _blur_d_stencil_102 * _2446;
  bfloat16_t _2454 = exp_bf16(_2453);
  bfloat16_t _2455 = _2454 * _hw_input_global_wrapper_stencil_107;
  bfloat16_t _2456 = _blur_d_stencil_103 * _2446;
  bfloat16_t _2457 = exp_bf16(_2456);
  bfloat16_t _2458 = _2457 * _hw_input_global_wrapper_stencil_108;
  bfloat16_t _2459 = _blur_d_stencil_104 * _2446;
  bfloat16_t _2460 = exp_bf16(_2459);
  bfloat16_t _2461 = _2460 * _hw_input_global_wrapper_stencil_109;
  bfloat16_t _2462 = _blur_d_stencil_105 * _2446;
  bfloat16_t _2463 = exp_bf16(_2462);
  bfloat16_t _2464 = _2463 * _hw_input_global_wrapper_stencil_110;
  bfloat16_t _2465 = _blur_d_stencil_106 * _2446;
  bfloat16_t _2466 = exp_bf16(_2465);
  bfloat16_t _2467 = _2466 * _hw_input_global_wrapper_stencil_111;
  bfloat16_t _2468 = _blur_d_stencil_107 * _2446;
  bfloat16_t _2469 = exp_bf16(_2468);
  bfloat16_t _2470 = _2469 * _hw_input_global_wrapper_stencil_112;
  bfloat16_t _2471 = _blur_d_stencil_108 * _2446;
  bfloat16_t _2472 = exp_bf16(_2471);
  bfloat16_t _2473 = _2472 * _hw_input_global_wrapper_stencil_113;
  bfloat16_t _2474 = _blur_d_stencil_109 * _2446;
  bfloat16_t _2475 = exp_bf16(_2474);
  bfloat16_t _2476 = _2475 * _hw_input_global_wrapper_stencil_114;
  bfloat16_t _2477 = _blur_d_stencil_110 * _2446;
  bfloat16_t _2478 = exp_bf16(_2477);
  bfloat16_t _2479 = _2478 * _hw_input_global_wrapper_stencil_115;
  bfloat16_t _2480 = _blur_d_stencil_111 * _2446;
  bfloat16_t _2481 = exp_bf16(_2480);
  bfloat16_t _2482 = _2481 * _hw_input_global_wrapper_stencil_116;
  bfloat16_t _2483 = _blur_d_stencil_112 * _2446;
  bfloat16_t _2484 = exp_bf16(_2483);
  bfloat16_t _2485 = _2484 * _hw_input_global_wrapper_stencil_117;
  bfloat16_t _2486 = _blur_d_stencil_113 * _2446;
  bfloat16_t _2487 = exp_bf16(_2486);
  bfloat16_t _2488 = _2487 * _hw_input_global_wrapper_stencil_118;
  bfloat16_t _2489 = _blur_d_stencil_114 * _2446;
  bfloat16_t _2490 = exp_bf16(_2489);
  bfloat16_t _2491 = _2490 * _hw_input_global_wrapper_stencil_119;
  bfloat16_t _2492 = _blur_d_stencil_115 * _2446;
  bfloat16_t _2493 = exp_bf16(_2492);
  bfloat16_t _2494 = _2493 * _hw_input_global_wrapper_stencil_120;
  bfloat16_t _2495 = _blur_d_stencil_116 * _2446;
  bfloat16_t _2496 = exp_bf16(_2495);
  bfloat16_t _2497 = _2496 * _hw_input_global_wrapper_stencil_121;
  bfloat16_t _2498 = _blur_d_stencil_117 * _2446;
  bfloat16_t _2499 = exp_bf16(_2498);
  bfloat16_t _2500 = _2499 * _hw_input_global_wrapper_stencil_122;
  bfloat16_t _2501 = _blur_d_stencil_118 * _2446;
  bfloat16_t _2502 = exp_bf16(_2501);
  bfloat16_t _2503 = _2502 * _hw_input_global_wrapper_stencil_123;
  bfloat16_t _2504 = _blur_d_stencil_119 * _2446;
  bfloat16_t _2505 = exp_bf16(_2504);
  bfloat16_t _2506 = _2505 * _hw_input_global_wrapper_stencil_124;
  bfloat16_t _2507 = _blur_d_stencil_120 * _2446;
  bfloat16_t _2508 = exp_bf16(_2507);
  bfloat16_t _2509 = _2508 * _hw_input_global_wrapper_stencil_125;
  bfloat16_t _2510 = _blur_d_stencil_121 * _2446;
  bfloat16_t _2511 = exp_bf16(_2510);
  bfloat16_t _2512 = _2511 * _hw_input_global_wrapper_stencil_126;
  bfloat16_t _2513 = _blur_d_stencil_122 * _2446;
  bfloat16_t _2514 = exp_bf16(_2513);
  bfloat16_t _2515 = _2514 * _hw_input_global_wrapper_stencil_127;
  bfloat16_t _2516 = _blur_d_stencil_123 * _2446;
  bfloat16_t _2517 = exp_bf16(_2516);
  bfloat16_t _2518 = _2517 * _hw_input_global_wrapper_stencil_128;
  bfloat16_t _2519 = _blur_d_stencil_124 * _2446;
  bfloat16_t _2520 = exp_bf16(_2519);
  bfloat16_t _2521 = _2520 * _hw_input_global_wrapper_stencil_129;
  bfloat16_t _2522 = _blur_d_stencil_125 * _2446;
  bfloat16_t _2523 = exp_bf16(_2522);
  bfloat16_t _2524 = _2523 * _hw_input_global_wrapper_stencil_130;
  bfloat16_t _2525 = _blur_d_stencil_126 * _2446;
  bfloat16_t _2526 = exp_bf16(_2525);
  bfloat16_t _2527 = _2526 * _hw_input_global_wrapper_stencil_131;
  bfloat16_t _2528 = _blur_d_stencil_127 * _2446;
  bfloat16_t _2529 = exp_bf16(_2528);
  bfloat16_t _2530 = _2529 * _hw_input_global_wrapper_stencil_132;
  bfloat16_t _2531 = _blur_d_stencil_128 * _2446;
  bfloat16_t _2532 = exp_bf16(_2531);
  bfloat16_t _2533 = _2532 * _hw_input_global_wrapper_stencil_133;
  bfloat16_t _2534 = _blur_d_stencil_129 * _2446;
  bfloat16_t _2535 = exp_bf16(_2534);
  bfloat16_t _2536 = _2535 * _hw_input_global_wrapper_stencil_134;
  bfloat16_t _2537 = _blur_d_stencil_130 * _2446;
  bfloat16_t _2538 = exp_bf16(_2537);
  bfloat16_t _2539 = _2538 * _hw_input_global_wrapper_stencil_135;
  bfloat16_t _2540 = _blur_d_stencil_131 * _2446;
  bfloat16_t _2541 = exp_bf16(_2540);
  bfloat16_t _2542 = _2541 * _hw_input_global_wrapper_stencil_136;
  bfloat16_t _2543 = _blur_d_stencil_132 * _2446;
  bfloat16_t _2544 = exp_bf16(_2543);
  bfloat16_t _2545 = _2544 * _hw_input_global_wrapper_stencil_137;
  bfloat16_t _2546 = _blur_d_stencil_133 * _2446;
  bfloat16_t _2547 = exp_bf16(_2546);
  bfloat16_t _2548 = _2547 * _hw_input_global_wrapper_stencil_138;
  bfloat16_t _2549 = _blur_d_stencil_134 * _2446;
  bfloat16_t _2550 = exp_bf16(_2549);
  bfloat16_t _2551 = _2550 * _hw_input_global_wrapper_stencil_139;
  bfloat16_t _2552 = _blur_d_stencil_135 * _2446;
  bfloat16_t _2553 = exp_bf16(_2552);
  bfloat16_t _2554 = _2553 * _hw_input_global_wrapper_stencil_140;
  bfloat16_t _2555 = _blur_d_stencil_136 * _2446;
  bfloat16_t _2556 = exp_bf16(_2555);
  bfloat16_t _2557 = _2556 * _hw_input_global_wrapper_stencil_141;
  bfloat16_t _2558 = _blur_d_stencil_137 * _2446;
  bfloat16_t _2559 = exp_bf16(_2558);
  bfloat16_t _2560 = _2559 * _hw_input_global_wrapper_stencil_142;
  bfloat16_t _2561 = _blur_d_stencil_138 * _2446;
  bfloat16_t _2562 = exp_bf16(_2561);
  bfloat16_t _2563 = _2562 * _hw_input_global_wrapper_stencil_143;
  bfloat16_t _2564 = _blur_d_stencil_139 * _2446;
  bfloat16_t _2565 = exp_bf16(_2564);
  bfloat16_t _2566 = _2565 * _hw_input_global_wrapper_stencil_144;
  bfloat16_t _2567 = _blur_d_stencil_140 * _2446;
  bfloat16_t _2568 = exp_bf16(_2567);
  bfloat16_t _2569 = _2568 * _hw_input_global_wrapper_stencil_145;
  bfloat16_t _2570 = _blur_d_stencil_141 * _2446;
  bfloat16_t _2571 = exp_bf16(_2570);
  bfloat16_t _2572 = _2571 * _hw_input_global_wrapper_stencil_146;
  bfloat16_t _2573 = _blur_d_stencil_142 * _2446;
  bfloat16_t _2574 = exp_bf16(_2573);
  bfloat16_t _2575 = _2574 * _hw_input_global_wrapper_stencil_147;
  bfloat16_t _2576 = _blur_d_stencil_143 * _2446;
  bfloat16_t _2577 = exp_bf16(_2576);
  bfloat16_t _2578 = _2577 * _hw_input_global_wrapper_stencil_148;
  bfloat16_t _2579 = _blur_d_stencil_144 * _2446;
  bfloat16_t _2580 = exp_bf16(_2579);
  bfloat16_t _2581 = _2580 * _hw_input_global_wrapper_stencil_149;
  bfloat16_t _2582 = _blur_d_stencil_145 * _2446;
  bfloat16_t _2583 = exp_bf16(_2582);
  bfloat16_t _2584 = _2583 * _hw_input_global_wrapper_stencil_150;
  bfloat16_t _2585 = _blur_d_stencil_146 * _2446;
  bfloat16_t _2586 = exp_bf16(_2585);
  bfloat16_t _2587 = _2586 * _hw_input_global_wrapper_stencil_151;
  bfloat16_t _2588 = _blur_d_stencil_147 * _2446;
  bfloat16_t _2589 = exp_bf16(_2588);
  bfloat16_t _2590 = _2589 * _hw_input_global_wrapper_stencil_152;
  bfloat16_t _2591 = _blur_d_stencil_148 * _2446;
  bfloat16_t _2592 = exp_bf16(_2591);
  bfloat16_t _2593 = _2592 * _hw_input_global_wrapper_stencil_153;
  bfloat16_t _2594 = _non_local_means_sum_stencil_3 + _2593;
  bfloat16_t _2595 = _2590 + _2594;
  bfloat16_t _2596 = _2587 + _2595;
  bfloat16_t _2597 = _2584 + _2596;
  bfloat16_t _2598 = _2581 + _2597;
  bfloat16_t _2599 = _2578 + _2598;
  bfloat16_t _2600 = _2575 + _2599;
  bfloat16_t _2601 = _2572 + _2600;
  bfloat16_t _2602 = _2569 + _2601;
  bfloat16_t _2603 = _2566 + _2602;
  bfloat16_t _2604 = _2563 + _2603;
  bfloat16_t _2605 = _2560 + _2604;
  bfloat16_t _2606 = _2557 + _2605;
  bfloat16_t _2607 = _2554 + _2606;
  bfloat16_t _2608 = _2551 + _2607;
  bfloat16_t _2609 = _2548 + _2608;
  bfloat16_t _2610 = _2545 + _2609;
  bfloat16_t _2611 = _2542 + _2610;
  bfloat16_t _2612 = _2539 + _2611;
  bfloat16_t _2613 = _2536 + _2612;
  bfloat16_t _2614 = _2533 + _2613;
  bfloat16_t _2615 = _2530 + _2614;
  bfloat16_t _2616 = _2527 + _2615;
  bfloat16_t _2617 = _2524 + _2616;
  bfloat16_t _2618 = _2521 + _2617;
  bfloat16_t _2619 = _2518 + _2618;
  bfloat16_t _2620 = _2515 + _2619;
  bfloat16_t _2621 = _2512 + _2620;
  bfloat16_t _2622 = _2509 + _2621;
  bfloat16_t _2623 = _2506 + _2622;
  bfloat16_t _2624 = _2503 + _2623;
  bfloat16_t _2625 = _2500 + _2624;
  bfloat16_t _2626 = _2497 + _2625;
  bfloat16_t _2627 = _2494 + _2626;
  bfloat16_t _2628 = _2491 + _2627;
  bfloat16_t _2629 = _2488 + _2628;
  bfloat16_t _2630 = _2485 + _2629;
  bfloat16_t _2631 = _2482 + _2630;
  bfloat16_t _2632 = _2479 + _2631;
  bfloat16_t _2633 = _2476 + _2632;
  bfloat16_t _2634 = _2473 + _2633;
  bfloat16_t _2635 = _2470 + _2634;
  bfloat16_t _2636 = _2467 + _2635;
  bfloat16_t _2637 = _2464 + _2636;
  bfloat16_t _2638 = _2461 + _2637;
  bfloat16_t _2639 = _2458 + _2638;
  bfloat16_t _2640 = _2455 + _2639;
  bfloat16_t _2641 = _2452 + _2640;
  bfloat16_t _2642 = _2449 + _2641;
  return _2642;
}

//store is: non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3) = (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 6)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 5)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 4)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 3)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 2)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 1)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 6, 0)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 5, 0)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 4, 0)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3, 0)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 2, 0)*-1.414062h)) + (exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 1, 0)*-1.414062h)) + (non_local_means_sum.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 3) + exp_bf16((blur_d.stencil(non_local_means_sum_s1_x, non_local_means_sum_s1_y, 0, 0)*-1.414062h)))))))))))))))))))))))))))))))))))))))))))))))))))
hw_uint<16> hcompute_non_local_means_sum_stencil_7(hw_uint<784>& blur_d_stencil, hw_uint<16>& non_local_means_sum_stencil) {
  bfloat16_t _blur_d_stencil_149 = bfloat16_t::make_from_bits(blur_d_stencil.extract<0, 15>());
  bfloat16_t _blur_d_stencil_150 = bfloat16_t::make_from_bits(blur_d_stencil.extract<16, 31>());
  bfloat16_t _blur_d_stencil_151 = bfloat16_t::make_from_bits(blur_d_stencil.extract<32, 47>());
  bfloat16_t _blur_d_stencil_152 = bfloat16_t::make_from_bits(blur_d_stencil.extract<48, 63>());
  bfloat16_t _blur_d_stencil_153 = bfloat16_t::make_from_bits(blur_d_stencil.extract<64, 79>());
  bfloat16_t _blur_d_stencil_154 = bfloat16_t::make_from_bits(blur_d_stencil.extract<80, 95>());
  bfloat16_t _blur_d_stencil_155 = bfloat16_t::make_from_bits(blur_d_stencil.extract<96, 111>());
  bfloat16_t _blur_d_stencil_156 = bfloat16_t::make_from_bits(blur_d_stencil.extract<112, 127>());
  bfloat16_t _blur_d_stencil_157 = bfloat16_t::make_from_bits(blur_d_stencil.extract<128, 143>());
  bfloat16_t _blur_d_stencil_158 = bfloat16_t::make_from_bits(blur_d_stencil.extract<144, 159>());
  bfloat16_t _blur_d_stencil_159 = bfloat16_t::make_from_bits(blur_d_stencil.extract<160, 175>());
  bfloat16_t _blur_d_stencil_160 = bfloat16_t::make_from_bits(blur_d_stencil.extract<176, 191>());
  bfloat16_t _blur_d_stencil_161 = bfloat16_t::make_from_bits(blur_d_stencil.extract<192, 207>());
  bfloat16_t _blur_d_stencil_162 = bfloat16_t::make_from_bits(blur_d_stencil.extract<208, 223>());
  bfloat16_t _blur_d_stencil_163 = bfloat16_t::make_from_bits(blur_d_stencil.extract<224, 239>());
  bfloat16_t _blur_d_stencil_164 = bfloat16_t::make_from_bits(blur_d_stencil.extract<240, 255>());
  bfloat16_t _blur_d_stencil_165 = bfloat16_t::make_from_bits(blur_d_stencil.extract<256, 271>());
  bfloat16_t _blur_d_stencil_166 = bfloat16_t::make_from_bits(blur_d_stencil.extract<272, 287>());
  bfloat16_t _blur_d_stencil_167 = bfloat16_t::make_from_bits(blur_d_stencil.extract<288, 303>());
  bfloat16_t _blur_d_stencil_168 = bfloat16_t::make_from_bits(blur_d_stencil.extract<304, 319>());
  bfloat16_t _blur_d_stencil_169 = bfloat16_t::make_from_bits(blur_d_stencil.extract<320, 335>());
  bfloat16_t _blur_d_stencil_170 = bfloat16_t::make_from_bits(blur_d_stencil.extract<336, 351>());
  bfloat16_t _blur_d_stencil_171 = bfloat16_t::make_from_bits(blur_d_stencil.extract<352, 367>());
  bfloat16_t _blur_d_stencil_172 = bfloat16_t::make_from_bits(blur_d_stencil.extract<368, 383>());
  bfloat16_t _blur_d_stencil_173 = bfloat16_t::make_from_bits(blur_d_stencil.extract<384, 399>());
  bfloat16_t _blur_d_stencil_174 = bfloat16_t::make_from_bits(blur_d_stencil.extract<400, 415>());
  bfloat16_t _blur_d_stencil_175 = bfloat16_t::make_from_bits(blur_d_stencil.extract<416, 431>());
  bfloat16_t _blur_d_stencil_176 = bfloat16_t::make_from_bits(blur_d_stencil.extract<432, 447>());
  bfloat16_t _blur_d_stencil_177 = bfloat16_t::make_from_bits(blur_d_stencil.extract<448, 463>());
  bfloat16_t _blur_d_stencil_178 = bfloat16_t::make_from_bits(blur_d_stencil.extract<464, 479>());
  bfloat16_t _blur_d_stencil_179 = bfloat16_t::make_from_bits(blur_d_stencil.extract<480, 495>());
  bfloat16_t _blur_d_stencil_180 = bfloat16_t::make_from_bits(blur_d_stencil.extract<496, 511>());
  bfloat16_t _blur_d_stencil_181 = bfloat16_t::make_from_bits(blur_d_stencil.extract<512, 527>());
  bfloat16_t _blur_d_stencil_182 = bfloat16_t::make_from_bits(blur_d_stencil.extract<528, 543>());
  bfloat16_t _blur_d_stencil_183 = bfloat16_t::make_from_bits(blur_d_stencil.extract<544, 559>());
  bfloat16_t _blur_d_stencil_184 = bfloat16_t::make_from_bits(blur_d_stencil.extract<560, 575>());
  bfloat16_t _blur_d_stencil_185 = bfloat16_t::make_from_bits(blur_d_stencil.extract<576, 591>());
  bfloat16_t _blur_d_stencil_186 = bfloat16_t::make_from_bits(blur_d_stencil.extract<592, 607>());
  bfloat16_t _blur_d_stencil_187 = bfloat16_t::make_from_bits(blur_d_stencil.extract<608, 623>());
  bfloat16_t _blur_d_stencil_188 = bfloat16_t::make_from_bits(blur_d_stencil.extract<624, 639>());
  bfloat16_t _blur_d_stencil_189 = bfloat16_t::make_from_bits(blur_d_stencil.extract<640, 655>());
  bfloat16_t _blur_d_stencil_190 = bfloat16_t::make_from_bits(blur_d_stencil.extract<656, 671>());
  bfloat16_t _blur_d_stencil_191 = bfloat16_t::make_from_bits(blur_d_stencil.extract<672, 687>());
  bfloat16_t _blur_d_stencil_192 = bfloat16_t::make_from_bits(blur_d_stencil.extract<688, 703>());
  bfloat16_t _blur_d_stencil_193 = bfloat16_t::make_from_bits(blur_d_stencil.extract<704, 719>());
  bfloat16_t _blur_d_stencil_194 = bfloat16_t::make_from_bits(blur_d_stencil.extract<720, 735>());
  bfloat16_t _blur_d_stencil_195 = bfloat16_t::make_from_bits(blur_d_stencil.extract<736, 751>());
  bfloat16_t _blur_d_stencil_196 = bfloat16_t::make_from_bits(blur_d_stencil.extract<752, 767>());
  bfloat16_t _blur_d_stencil_197 = bfloat16_t::make_from_bits(blur_d_stencil.extract<768, 783>());

  bfloat16_t _non_local_means_sum_stencil_4 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());

  bfloat16_t _3150 = bfloat_from_bits(3216310272 /* -1.41406 */);
  bfloat16_t _3151 = _blur_d_stencil_149 * _3150;
  bfloat16_t _3152 = exp_bf16(_3151);
  bfloat16_t _3153 = _blur_d_stencil_150 * _3150;
  bfloat16_t _3154 = exp_bf16(_3153);
  bfloat16_t _3155 = _blur_d_stencil_151 * _3150;
  bfloat16_t _3156 = exp_bf16(_3155);
  bfloat16_t _3157 = _blur_d_stencil_152 * _3150;
  bfloat16_t _3158 = exp_bf16(_3157);
  bfloat16_t _3159 = _blur_d_stencil_153 * _3150;
  bfloat16_t _3160 = exp_bf16(_3159);
  bfloat16_t _3161 = _blur_d_stencil_154 * _3150;
  bfloat16_t _3162 = exp_bf16(_3161);
  bfloat16_t _3163 = _blur_d_stencil_155 * _3150;
  bfloat16_t _3164 = exp_bf16(_3163);
  bfloat16_t _3165 = _blur_d_stencil_156 * _3150;
  bfloat16_t _3166 = exp_bf16(_3165);
  bfloat16_t _3167 = _blur_d_stencil_157 * _3150;
  bfloat16_t _3168 = exp_bf16(_3167);
  bfloat16_t _3169 = _blur_d_stencil_158 * _3150;
  bfloat16_t _3170 = exp_bf16(_3169);
  bfloat16_t _3171 = _blur_d_stencil_159 * _3150;
  bfloat16_t _3172 = exp_bf16(_3171);
  bfloat16_t _3173 = _blur_d_stencil_160 * _3150;
  bfloat16_t _3174 = exp_bf16(_3173);
  bfloat16_t _3175 = _blur_d_stencil_161 * _3150;
  bfloat16_t _3176 = exp_bf16(_3175);
  bfloat16_t _3177 = _blur_d_stencil_162 * _3150;
  bfloat16_t _3178 = exp_bf16(_3177);
  bfloat16_t _3179 = _blur_d_stencil_163 * _3150;
  bfloat16_t _3180 = exp_bf16(_3179);
  bfloat16_t _3181 = _blur_d_stencil_164 * _3150;
  bfloat16_t _3182 = exp_bf16(_3181);
  bfloat16_t _3183 = _blur_d_stencil_165 * _3150;
  bfloat16_t _3184 = exp_bf16(_3183);
  bfloat16_t _3185 = _blur_d_stencil_166 * _3150;
  bfloat16_t _3186 = exp_bf16(_3185);
  bfloat16_t _3187 = _blur_d_stencil_167 * _3150;
  bfloat16_t _3188 = exp_bf16(_3187);
  bfloat16_t _3189 = _blur_d_stencil_168 * _3150;
  bfloat16_t _3190 = exp_bf16(_3189);
  bfloat16_t _3191 = _blur_d_stencil_169 * _3150;
  bfloat16_t _3192 = exp_bf16(_3191);
  bfloat16_t _3193 = _blur_d_stencil_170 * _3150;
  bfloat16_t _3194 = exp_bf16(_3193);
  bfloat16_t _3195 = _blur_d_stencil_171 * _3150;
  bfloat16_t _3196 = exp_bf16(_3195);
  bfloat16_t _3197 = _blur_d_stencil_172 * _3150;
  bfloat16_t _3198 = exp_bf16(_3197);
  bfloat16_t _3199 = _blur_d_stencil_173 * _3150;
  bfloat16_t _3200 = exp_bf16(_3199);
  bfloat16_t _3201 = _blur_d_stencil_174 * _3150;
  bfloat16_t _3202 = exp_bf16(_3201);
  bfloat16_t _3203 = _blur_d_stencil_175 * _3150;
  bfloat16_t _3204 = exp_bf16(_3203);
  bfloat16_t _3205 = _blur_d_stencil_176 * _3150;
  bfloat16_t _3206 = exp_bf16(_3205);
  bfloat16_t _3207 = _blur_d_stencil_177 * _3150;
  bfloat16_t _3208 = exp_bf16(_3207);
  bfloat16_t _3209 = _blur_d_stencil_178 * _3150;
  bfloat16_t _3210 = exp_bf16(_3209);
  bfloat16_t _3211 = _blur_d_stencil_179 * _3150;
  bfloat16_t _3212 = exp_bf16(_3211);
  bfloat16_t _3213 = _blur_d_stencil_180 * _3150;
  bfloat16_t _3214 = exp_bf16(_3213);
  bfloat16_t _3215 = _blur_d_stencil_181 * _3150;
  bfloat16_t _3216 = exp_bf16(_3215);
  bfloat16_t _3217 = _blur_d_stencil_182 * _3150;
  bfloat16_t _3218 = exp_bf16(_3217);
  bfloat16_t _3219 = _blur_d_stencil_183 * _3150;
  bfloat16_t _3220 = exp_bf16(_3219);
  bfloat16_t _3221 = _blur_d_stencil_184 * _3150;
  bfloat16_t _3222 = exp_bf16(_3221);
  bfloat16_t _3223 = _blur_d_stencil_185 * _3150;
  bfloat16_t _3224 = exp_bf16(_3223);
  bfloat16_t _3225 = _blur_d_stencil_186 * _3150;
  bfloat16_t _3226 = exp_bf16(_3225);
  bfloat16_t _3227 = _blur_d_stencil_187 * _3150;
  bfloat16_t _3228 = exp_bf16(_3227);
  bfloat16_t _3229 = _blur_d_stencil_188 * _3150;
  bfloat16_t _3230 = exp_bf16(_3229);
  bfloat16_t _3231 = _blur_d_stencil_189 * _3150;
  bfloat16_t _3232 = exp_bf16(_3231);
  bfloat16_t _3233 = _blur_d_stencil_190 * _3150;
  bfloat16_t _3234 = exp_bf16(_3233);
  bfloat16_t _3235 = _blur_d_stencil_191 * _3150;
  bfloat16_t _3236 = exp_bf16(_3235);
  bfloat16_t _3237 = _blur_d_stencil_192 * _3150;
  bfloat16_t _3238 = exp_bf16(_3237);
  bfloat16_t _3239 = _blur_d_stencil_193 * _3150;
  bfloat16_t _3240 = exp_bf16(_3239);
  bfloat16_t _3241 = _blur_d_stencil_194 * _3150;
  bfloat16_t _3242 = exp_bf16(_3241);
  bfloat16_t _3243 = _blur_d_stencil_195 * _3150;
  bfloat16_t _3244 = exp_bf16(_3243);
  bfloat16_t _3245 = _blur_d_stencil_196 * _3150;
  bfloat16_t _3246 = exp_bf16(_3245);
  bfloat16_t _3247 = _blur_d_stencil_197 * _3150;
  bfloat16_t _3248 = exp_bf16(_3247);
  bfloat16_t _3249 = _non_local_means_sum_stencil_4 + _3248;
  bfloat16_t _3250 = _3246 + _3249;
  bfloat16_t _3251 = _3244 + _3250;
  bfloat16_t _3252 = _3242 + _3251;
  bfloat16_t _3253 = _3240 + _3252;
  bfloat16_t _3254 = _3238 + _3253;
  bfloat16_t _3255 = _3236 + _3254;
  bfloat16_t _3256 = _3234 + _3255;
  bfloat16_t _3257 = _3232 + _3256;
  bfloat16_t _3258 = _3230 + _3257;
  bfloat16_t _3259 = _3228 + _3258;
  bfloat16_t _3260 = _3226 + _3259;
  bfloat16_t _3261 = _3224 + _3260;
  bfloat16_t _3262 = _3222 + _3261;
  bfloat16_t _3263 = _3220 + _3262;
  bfloat16_t _3264 = _3218 + _3263;
  bfloat16_t _3265 = _3216 + _3264;
  bfloat16_t _3266 = _3214 + _3265;
  bfloat16_t _3267 = _3212 + _3266;
  bfloat16_t _3268 = _3210 + _3267;
  bfloat16_t _3269 = _3208 + _3268;
  bfloat16_t _3270 = _3206 + _3269;
  bfloat16_t _3271 = _3204 + _3270;
  bfloat16_t _3272 = _3202 + _3271;
  bfloat16_t _3273 = _3200 + _3272;
  bfloat16_t _3274 = _3198 + _3273;
  bfloat16_t _3275 = _3196 + _3274;
  bfloat16_t _3276 = _3194 + _3275;
  bfloat16_t _3277 = _3192 + _3276;
  bfloat16_t _3278 = _3190 + _3277;
  bfloat16_t _3279 = _3188 + _3278;
  bfloat16_t _3280 = _3186 + _3279;
  bfloat16_t _3281 = _3184 + _3280;
  bfloat16_t _3282 = _3182 + _3281;
  bfloat16_t _3283 = _3180 + _3282;
  bfloat16_t _3284 = _3178 + _3283;
  bfloat16_t _3285 = _3176 + _3284;
  bfloat16_t _3286 = _3174 + _3285;
  bfloat16_t _3287 = _3172 + _3286;
  bfloat16_t _3288 = _3170 + _3287;
  bfloat16_t _3289 = _3168 + _3288;
  bfloat16_t _3290 = _3166 + _3289;
  bfloat16_t _3291 = _3164 + _3290;
  bfloat16_t _3292 = _3162 + _3291;
  bfloat16_t _3293 = _3160 + _3292;
  bfloat16_t _3294 = _3158 + _3293;
  bfloat16_t _3295 = _3156 + _3294;
  bfloat16_t _3296 = _3154 + _3295;
  bfloat16_t _3297 = _3152 + _3296;
  return _3297;
}

//store is: hw_output.stencil(0, hw_output_s0_x_xi, hw_output_s0_y_yi) = (max(min((non_local_means_sum.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 0)/non_local_means_sum.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 3)), 1.000000h), 0.000000h)*255.000000h)
hw_uint<16> hcompute_hw_output_stencil(hw_uint<32>& non_local_means_sum_stencil) {
  bfloat16_t _non_local_means_sum_stencil_5 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());
  bfloat16_t _non_local_means_sum_stencil_6 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<16, 31>());

  bfloat16_t _3644 = _non_local_means_sum_stencil_5 / _non_local_means_sum_stencil_6;
  bfloat16_t _3645 = bfloat_from_bits(1065353216 /* 1 */);
  bfloat16_t _3646 = min(_3644, _3645);
  bfloat16_t _3647 = bfloat_from_bits(0 /* 0 */);
  bfloat16_t _3648 = max(_3646, _3647);
  bfloat16_t _3649 = bfloat_from_bits(1132396544 /* 255 */);
  bfloat16_t _3650 = _3648 * _3649;
  return _3650;
}

//store is: hw_output.stencil(1, hw_output_s0_x_xi, hw_output_s0_y_yi) = (max(min((non_local_means_sum.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 1)/non_local_means_sum.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 3)), 1.000000h), 0.000000h)*255.000000h)
hw_uint<16> hcompute_hw_output_stencil_1(hw_uint<32>& non_local_means_sum_stencil) {
  bfloat16_t _non_local_means_sum_stencil_7 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());
  bfloat16_t _non_local_means_sum_stencil_8 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<16, 31>());

  bfloat16_t _3667 = _non_local_means_sum_stencil_7 / _non_local_means_sum_stencil_8;
  bfloat16_t _3668 = bfloat_from_bits(1065353216 /* 1 */);
  bfloat16_t _3669 = min(_3667, _3668);
  bfloat16_t _3670 = bfloat_from_bits(0 /* 0 */);
  bfloat16_t _3671 = max(_3669, _3670);
  bfloat16_t _3672 = bfloat_from_bits(1132396544 /* 255 */);
  bfloat16_t _3673 = _3671 * _3672;
  return _3673;
}

//store is: hw_output.stencil(2, hw_output_s0_x_xi, hw_output_s0_y_yi) = (max(min((non_local_means_sum.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 2)/non_local_means_sum.stencil(hw_output_s0_x_xi, hw_output_s0_y_yi, 3)), 1.000000h), 0.000000h)*255.000000h)
hw_uint<16> hcompute_hw_output_stencil_2(hw_uint<32>& non_local_means_sum_stencil) {
  bfloat16_t _non_local_means_sum_stencil_10 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<0, 15>());
  bfloat16_t _non_local_means_sum_stencil_9 = bfloat16_t::make_from_bits(non_local_means_sum_stencil.extract<16, 31>());

  bfloat16_t _3690 = _non_local_means_sum_stencil_9 / _non_local_means_sum_stencil_10;
  bfloat16_t _3691 = bfloat_from_bits(1065353216 /* 1 */);
  bfloat16_t _3692 = min(_3690, _3691);
  bfloat16_t _3693 = bfloat_from_bits(0 /* 0 */);
  bfloat16_t _3694 = max(_3692, _3693);
  bfloat16_t _3695 = bfloat_from_bits(1132396544 /* 255 */);
  bfloat16_t _3696 = _3694 * _3695;
  return _3696;
}

